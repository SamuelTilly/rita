{"version":3,"sources":["node_modules/wheel/index.js","node_modules/bezier-easing/src/index.js","node_modules/amator/index.js","node_modules/ngraph.events/index.js","node_modules/panzoom/lib/kinetic.js","node_modules/panzoom/lib/createTextSelectionInterceptor.js","node_modules/panzoom/lib/transform.js","node_modules/panzoom/lib/svgController.js","node_modules/panzoom/lib/domController.js","node_modules/panzoom/index.js","src/common/color.js","src/common/canvas.js","../src/utils.ts","../src/container.ts","../src/decorators.ts","../src/helper.ts","../src/index.ts","node_modules/@babel/runtime/helpers/interopRequireDefault.js","node_modules/@babel/runtime/helpers/classCallCheck.js","node_modules/@babel/runtime/helpers/createClass.js","node_modules/@babel/runtime/helpers/typeof.js","node_modules/dob/dist/src/event/index.js","node_modules/dob/dist/src/global-state.js","node_modules/@babel/runtime/helpers/setPrototypeOf.js","node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","node_modules/@babel/runtime/helpers/construct.js","node_modules/dob/dist/src/built-ins/map.js","node_modules/dob/dist/src/built-ins/set.js","node_modules/dob/dist/src/built-ins/weak-map.js","node_modules/dob/dist/src/built-ins/weak-set.js","node_modules/dob/dist/src/built-ins/index.js","node_modules/dob/dist/src/utils.js","node_modules/dob/dist/src/reaction.js","node_modules/dob/dist/src/observer.js","node_modules/dob/dist/src/atom.js","node_modules/lodash.clonedeep/index.js","node_modules/dob/dist/src/debug.js","node_modules/dob/dist/src/index.js","src/state.js","src/common/event.js","src/index.js"],"names":["componentToHex","c","hex","toString","length","rgbToHex","r","g","b","getContrast50","hexcolor","parseInt","replace","getContext","el","canvas","document","getElementById","forEachPixel","context","cb","result","width","height","x","y","color","getColorAtPos","unique","includes","push","indexOf","getColorList","viewportContext","drawAreaContext","drawAreaScale","colorIndex","beginPath","rect","stroke","fillStyle","font","textAlign","fillText","getImageData","data","state","panzoom","maxZoom","minZoom","initialZoom","zoomDoubleClickSpeed","bounds","boundsPadding","smoothScroll","imageSrc","currentColor","undefined","availableColors","paintedColors","normalizeEventPosition","handler","evt","target","getBoundingClientRect","clientX","clientY","changedTouches","pos","left","top","addPressEvent","addEventListener","init","img","loadImage","resultContext","panzoomInstance","onload","drawImage","fillRect","Object","assign","shiftKey","attemptDraw","Image","src","crossOrigin","onerror","console","error","drawSelectableColors","container","innerHTML","keys","forEach","index","usage","colorEl","createElement","colorPercentageEl","style","background","Math","floor","dataset","painted","title","className","appendChild","scale","getTransform","ceil","colorAtPos"],"mappings":";AAoBA,SAAA,EAAA,EAAA,EAAA,GACA,EAAA,iBAAA,QAAA,EAAA,GAGA,SAAA,EAAA,EAAA,EAAA,GACA,EAAA,oBAAA,QAAA,EAAA,GAZA,OAAA,QAAA,EAGA,OAAA,QAAA,iBAAA,EACA,OAAA,QAAA,oBAAA;;ACVA,IAAA,EAAA,EACA,EAAA,KACA,EAAA,KACA,EAAA,GAEA,EAAA,GACA,EAAA,GAAA,EAAA,GAEA,EAAA,mBAAA,aAEA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,EAAA,EAAA,EAAA,EACA,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,EAAA,EAAA,EACA,SAAA,EAAA,GAAA,OAAA,EAAA,EAGA,SAAA,EAAA,EAAA,EAAA,GAAA,QAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,IAAA,EAAA,EAAA,IAAA,EAGA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,GAEA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,EAAA,EACA,IAEA,EAAA,EADA,EAAA,GAAA,EAAA,GAAA,EACA,EAAA,GAAA,GACA,EACA,EAAA,EAEA,EAAA,QAEA,KAAA,IAAA,GAAA,KAAA,EAAA,GACA,OAAA,EAGA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,EAAA,CACA,IAAA,EAAA,EAAA,EAAA,EAAA,GACA,GAAA,IAAA,EACA,OAAA,EAGA,IADA,EAAA,EAAA,EAAA,GAAA,GACA,EAEA,OAAA,EAGA,SAAA,EAAA,GACA,OAAA,EAGA,OAAA,QAAA,SAAA,EAAA,EAAA,EAAA,GACA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GACA,MAAA,IAAA,MAAA,2CAGA,GAAA,IAAA,GAAA,IAAA,EACA,OAAA,EAKA,IADA,IAAA,EAAA,EAAA,IAAA,aAAA,GAAA,IAAA,MAAA,GACA,EAAA,EAAA,EAAA,IAAA,EACA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,GA2BA,OAAA,SAAA,GAEA,OAAA,IAAA,EACA,EAEA,IAAA,EACA,EAEA,EAhCA,SAAA,GAKA,IAJA,IAAA,EAAA,EACA,EAAA,EACA,EAAA,EAAA,EAEA,IAAA,GAAA,EAAA,IAAA,IAAA,EACA,GAAA,EAKA,IACA,EAAA,GADA,EAAA,IAHA,KAGA,EAAA,EAAA,GAAA,EAAA,IACA,EAEA,EAAA,EAAA,EAAA,EAAA,GACA,OAAA,GAAA,EACA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EACA,EAEA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAYA,CAAA,GAAA,EAAA;;ACxGA,IAAA,EAAA,QAAA,iBAGA,EAAA,CACA,KAAA,EAAA,IAAA,GAAA,IAAA,GACA,OAAA,EAAA,IAAA,EAAA,EAAA,GACA,QAAA,EAAA,EAAA,EAAA,IAAA,GACA,UAAA,EAAA,IAAA,EAAA,IAAA,GACA,OAAA,EAAA,EAAA,EAAA,EAAA,IASA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,OAAA,OAAA,MACA,EAAA,OAAA,OAAA,MAGA,EAAA,mBAFA,EAAA,GAAA,IAEA,OAAA,EAAA,OAAA,EAAA,EAAA,QAGA,IACA,EAAA,QACA,QAAA,KAAA,sCAAA,EAAA,QAEA,EAAA,EAAA,MAGA,IAAA,EAAA,mBAAA,EAAA,KAAA,EAAA,KAAA,EACA,EAAA,mBAAA,EAAA,KAAA,EAAA,KAAA,EAEA,EAAA,EAAA,EAAA,WAEA,EAAA,OAAA,KAAA,GACA,EAAA,QAAA,SAAA,GACA,EAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAAA,GAAA,EAAA,KAGA,IAEA,EAFA,EAAA,iBAAA,EAAA,SAAA,EAAA,SAAA,IACA,EAAA,KAAA,IAAA,EAAA,IAAA,GAEA,EAAA,EAIA,OAFA,EAAA,EAAA,KAWA,SAAA,IACA,IAAA,EAAA,EAAA,EAAA,GACA,GAAA,GAWA,SAAA,GACA,EAAA,QAAA,SAAA,GACA,EAAA,GAAA,EAAA,GAAA,EAAA,EAAA,KAZA,CAAA,GACA,GAAA,GACA,EAAA,EAAA,KAAA,GACA,EAAA,KAEA,EAAA,EACA,WAAA,WAAA,EAAA,IAAA,MAlBA,CACA,OAGA,WACA,EAAA,OAAA,GACA,EAAA,IAuBA,SAAA,KAEA,SAAA,EAAA,GACA,IAAA,EAEA,MADA,oBAAA,QAAA,OAAA,sBACA,IAAA,IAEA,GAAA,mBAAA,EAAA,KAAA,MAAA,IAAA,MAAA,mDACA,GAAA,mBAAA,EAAA,OAAA,MAAA,IAAA,MAAA,yDAEA,OAAA,EAGA,SAAA,IACA,MAAA,CACA,KAAA,OAAA,sBAAA,KAAA,QACA,OAAA,OAAA,qBAAA,KAAA,SAIA,SAAA,IACA,MAAA,CACA,KAAA,SAAA,GACA,OAAA,WAAA,EAAA,IAAA,KAEA,OAAA,SAAA,GACA,OAAA,aAAA,KAKA,SAAA,IACA,IAAA,EAAA,IAAA,IACA,EAAA,IAAA,IACA,EAAA,EAEA,MAAA,CACA,KAAA,EACA,OAAA,EACA,SAGA,WACA,EAAA,QACA,EAAA,QACA,qBAAA,GACA,EAAA,IAGA,SAAA,EAAA,GACA,EAAA,IAAA,GAKA,IAAA,EAAA,sBAAA,IAGA,SAAA,IACA,EAAA,EAEA,IAAA,EAAA,EACA,EAAA,GACA,EAAA,GAEA,QAAA,SAAA,GACA,MAEA,EAAA,SAvIA,OAAA,QAAA,EACA,OAAA,QAAA,iBAAA,EACA,OAAA,QAAA,gBAAA;;ACJA,SAAA,EAAA,GAMA,IAAA,EAAA,OAAA,OAAA,MAEA,MAAA,CACA,GAAA,SAAA,EAAA,EAAA,GACA,GAAA,mBAAA,EACA,MAAA,IAAA,MAAA,yCAEA,IAAA,EAAA,EAAA,GAMA,OALA,IACA,EAAA,EAAA,GAAA,IAEA,EAAA,KAAA,CAAA,SAAA,EAAA,IAAA,IAEA,GAGA,IAAA,SAAA,EAAA,GAEA,QADA,IAAA,EAIA,OADA,EAAA,OAAA,OAAA,MACA,EAGA,GAAA,EAAA,GAEA,GADA,mBAAA,SAEA,EAAA,QAGA,IADA,IAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,SAAA,EACA,EAAA,GAAA,WAAA,GACA,EAAA,OAAA,EAAA,GAMA,OAAA,GAGA,KAAA,SAAA,GACA,IAKA,EALA,EAAA,EAAA,GACA,IAAA,EACA,OAAA,EAIA,UAAA,OAAA,IACA,EAAA,MAAA,UAAA,OAAA,KAAA,UAAA,IAEA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,SAAA,EAAA,CACA,IAAA,EAAA,EAAA,GACA,EAAA,SAAA,MAAA,EAAA,IAAA,GAGA,OAAA,IAKA,SAAA,EAAA,GACA,IAAA,EACA,MAAA,IAAA,MAAA,sDAGA,IADA,IAAA,EAAA,CAAA,KAAA,OAAA,OACA,EAAA,EAAA,EAAA,EAAA,SAAA,EACA,GAAA,EAAA,eAAA,EAAA,IACA,MAAA,IAAA,MAAA,gEAAA,EAAA,GAAA,KApFA,OAAA,QAAA,SAAA,GACA,EAAA,GAEA,IAAA,EAAA,EAAA,GAIA,OAHA,EAAA,GAAA,EAAA,GACA,EAAA,IAAA,EAAA,IACA,EAAA,KAAA,EAAA,KACA;;ACFA,SAAA,EAAA,EAAA,EAAA,GACA,iBAAA,IAEA,EAAA,IAGA,IAKA,EACA,EAGA,EACA,EAAA,EAAA,EACA,EAAA,EAAA,EAEA,EAbA,EAAA,iBAAA,EAAA,YAAA,EAAA,YAAA,EACA,EAAA,iBAAA,EAAA,UAAA,EAAA,UAAA,IACA,EAAA,mBAAA,EAAA,qBAAA,EAAA,qBAAA,IACA,EAAA,mBAAA,EAAA,sBAAA,EAAA,sBAAA,IAIA,EAAA,IAQA,MAAA,CACA,MAUA,WACA,EAAA,IAEA,EAAA,EAAA,EAAA,EAAA,EACA,EAAA,IAAA,KAEA,EAAA,GACA,EAAA,GAKA,EAAA,EAAA,IArBA,KA6CA,WACA,EAAA,GACA,EAAA,GAEA,IAAA,EAAA,IAEA,EAAA,EAAA,EACA,EAAA,EAAA,EACA,EAAA,KAAA,OAEA,GAAA,GAAA,EAAA,KAEA,GADA,EAAA,EAAA,IAIA,GAAA,GAAA,EAAA,KAEA,GADA,EAAA,EAAA,GAIA,EAAA,EAAA,IAhEA,OAGA,WACA,EAAA,GACA,EAAA,KAkBA,SAAA,IACA,IAAA,EAAA,KAAA,MACA,EAAA,EAAA,EACA,EAAA,EAEA,IAAA,EAAA,IAEA,EAAA,EAAA,EAAA,EAAA,EACA,EAAA,EAAA,EAAA,EAAA,EAEA,EAAA,EAEA,IAAA,EAAA,KAAA,EAAA,GAGA,EAAA,GAAA,EAAA,EAAA,GAAA,EACA,EAAA,GAAA,EAAA,EAAA,GAAA,EAEA,EAAA,EAAA,GA0BA,SAAA,IACA,IAAA,EAAA,KAAA,MAAA,EAEA,GAAA,EACA,EAAA,EACA,EAAA,EAEA,KACA,GAAA,EAAA,KAAA,KAAA,EAAA,IAEA,IAAA,GAAA,GAAA,GAAA,EACA,EAAA,EAAA,GAGA,KACA,GAAA,EAAA,KAAA,KAAA,EAAA,IAEA,IAAA,GAAA,GAAA,GAAA,EACA,EAAA,EAAA,GAGA,IACA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,KAKA,SAAA,IACA,MAAA,mBAAA,qBAAA,qBACA,aAGA,SAAA,IACA,MAAA,mBAAA,sBAAA,sBAEA,SAAA,GACA,OAAA,WAAA,EAAA,KAlIA,OAAA,QAAA;;ACEA,SAAA,EAAA,GACA,GAAA,EACA,MAAA,CACA,QAAA,EACA,QAAA,GAIA,IAAA,EACA,EACA,EACA,GAAA,EAEA,MAAA,CACA,QAIA,SAAA,GACA,GAAA,EACA,EAAA,OAAA,SAAA,cACA,EAAA,OAAA,SAAA,YAEA,OAAA,SAAA,cAAA,GAEA,EAAA,GACA,YAAA,GAXA,QAcA,WACA,IAAA,EAAA,OAEA,GAAA,EACA,OAAA,SAAA,cAAA,EACA,IAAA,EAAA,YAAA,KAIA,SAAA,EAAA,GAEA,OADA,EAAA,mBACA,EAGA,SAAA,KA7CA,OAAA,QAAA;;ACDA,SAAA,IACA,KAAA,EAAA,EACA,KAAA,EAAA,EACA,KAAA,MAAA,EALA,OAAA,QAAA;;ACGA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,GACA,MAAA,IAAA,MAAA,mDAGA,IAAA,EAAA,EAAA,gBACA,IAAA,EACA,MAAA,IAAA,MACA,+JAiBA,OAZA,EAAA,4BACA,EAAA,aAAA,WAAA,GAGA,CACA,QAaA,WACA,IAAA,EAAA,EAAA,UACA,MAAA,CACA,KAAA,EAAA,EACA,IAAA,EAAA,EACA,MAAA,EAAA,MACA,OAAA,EAAA,SAlBA,aAsBA,WACA,IAAA,EAAA,EAAA,SACA,IAAA,EAGA,OAAA,EAAA,eAEA,OAAA,GA5BA,SAOA,WACA,OAAA,GAPA,eA4CA,SAAA,GACA,EAAA,aAAA,YAAA,UACA,EAAA,MAAA,QACA,EAAA,MAAA,IACA,EAAA,EAAA,IAAA,EAAA,EAAA,MA/CA,cA6BA,SAAA,GACA,IAAA,EAAA,EAAA,SAGA,OAAA,IACA,EAAA,SAAA,gBAAA,6BAAA,OAAA,mBAGA,EAAA,EAAA,EAAA,EACA,EAAA,EAAA,EAAA,EACA,EAAA,MAAA,EAAA,EACA,EAAA,kBAAA,KAAA,aAWA,SAAA,EAAA,GACA,OAAA,GAAA,EAAA,iBAAA,EAAA,OA7EA,OAAA,QAAA,EACA,OAAA,QAAA,UAAA;;ACGA,SAAA,EAAA,EAAA,GAEA,IADA,EAAA,GAEA,MAAA,IAAA,MAAA,+DAGA,IAAA,EAAA,EAAA,cAaA,OAZA,EAAA,UAAA,EAEA,EAAA,4BACA,EAAA,aAAA,WAAA,GAGA,CACA,QAWA,WAEA,MAAA,CACA,KAAA,EACA,IAAA,EACA,MAAA,EAAA,YACA,OAAA,EAAA,eAhBA,SAMA,WACA,OAAA,GANA,eAmBA,SAAA,GAEA,EAAA,MAAA,gBAAA,QACA,EAAA,MAAA,UAAA,UACA,EAAA,MAAA,WACA,EAAA,MAAA,KACA,EAAA,EAAA,KAAA,EAAA,EAAA,MAIA,SAAA,EAAA,GACA,OAAA,GAAA,EAAA,eAAA,EAAA,MAlDA,OAAA,QAAA,EAEA,OAAA,QAAA,UAAA;;ACFA,aAIA,IAAA,EAAA,QAAA,SACA,EAAA,QAAA,UACA,EAAA,QAAA,iBACA,EAAA,QAAA,oBACA,EAAA,QAAA,2CACA,EAAA,IACA,EAAA,GAAA,GACA,EAAA,QAAA,sBACA,EAAA,QAAA,0BACA,EAAA,QAAA,0BAEA,EAAA,EACA,EAAA,KACA,EAAA,IAUA,SAAA,EAAA,EAAA,GAGA,IAAA,GAFA,EAAA,GAAA,IAEA,WAUA,GARA,IACA,EAAA,UAAA,GACA,EAAA,EAAA,EAAA,GACA,EAAA,UAAA,KACA,EAAA,EAAA,EAAA,MAIA,EACA,MAAA,IAAA,MACA,6DAGA,IAAA,EAAA,EAAA,WAGA,EAAA,CAAA,EAAA,EAAA,EAAA,GAEA,GAAA,EACA,EAAA,IAAA,EAEA,EAAA,eACA,EAAA,cAAA,GAGA,IAqBA,EArBA,EAAA,mBAAA,EAAA,UAAA,EAAA,UAAA,EAEA,EAAA,iBAAA,EAAA,WAAA,EAAA,WAAA,EACA,EAAA,EAAA,OACA,EAAA,iBAAA,EAAA,QAAA,EAAA,QAAA,OAAA,kBACA,EAAA,iBAAA,EAAA,QAAA,EAAA,QAAA,EAEA,EAAA,iBAAA,EAAA,cAAA,EAAA,cAAA,IACA,EAAA,iBAAA,EAAA,qBAAA,EAAA,qBAAA,EACA,EAAA,EAAA,aAAA,EACA,EAAA,EAAA,iBAAA,EACA,EAAA,iBAAA,EAAA,UAAA,EAAA,UAAA,EACA,EAAA,EAAA,EAAA,iBACA,EAAA,EAAA,oBAAA,EAAA,EAEA,EAAA,GAEA,EAAA,YAmIA,WACA,IAAA,EACA,EACA,EAAA,EACA,EAAA,EACA,EAAA,KACA,GAAA,EAEA,EAAA,EAAA,KACA,EAAA,EAAA,IACA,EAAA,EAAA,MAAA,EAAA,KACA,EAAA,EAAA,OAAA,EAAA,QACA,CAEA,IAAA,EAAA,EAAA,wBACA,EAAA,EAAA,MACA,EAAA,EAAA,OAEA,IAAA,EAAA,EAAA,UACA,GAAA,IAAA,EAAA,OAAA,IAAA,EAAA,OAGA,OAEA,IAAA,EAAA,EAAA,EAAA,OACA,EAAA,EAAA,EAAA,MACA,EAAA,KAAA,IAAA,EAAA,GACA,EAAA,IAAA,EAAA,KAAA,EAAA,MAAA,GAAA,EAAA,EAAA,EAAA,EACA,EAAA,IAAA,EAAA,IAAA,EAAA,OAAA,GAAA,EAAA,EAAA,EAAA,EACA,EAAA,MAAA,EA/JA,GAIA,IACA,EAOA,EACA,EAEA,EAEA,EAUA,EACA,EAEA,EA1BA,EAAA,EAEA,GAAA,EAGA,GAAA,EAWA,EAFA,iBAAA,IAAA,EAAA,aAEA,IAIA,EAkLA,WACA,MAAA,CACA,EAAA,EAAA,EACA,EAAA,EAAA,IA4LA,SAAA,EAAA,GACA,KACA,GAAA,EAAA,IAnXA,EAAA,cAOA,IAAA,GAAA,EAEA,KAEA,IAAA,EAAA,CACA,QA0WA,WACA,MA1WA,OAAA,GACA,OAAA,GACA,aAwUA,SAAA,EAAA,GACA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,IAxUA,SAsTA,SAAA,GACA,IAAA,EAAA,EAAA,gBACA,IAAA,EACA,MAAA,IAAA,MAAA,iDAGA,IAAA,EAAA,EAAA,wBACA,EAAA,EAAA,KAAA,EAAA,MAAA,EACA,EAAA,EAAA,IAAA,EAAA,OAAA,EAEA,EAAA,EAAA,wBACA,EAAA,EAAA,MAAA,EAAA,EACA,EAAA,EAAA,OAAA,EAAA,EAEA,GAAA,EAAA,GAAA,IAnUA,OAAA,GACA,QAAA,GACA,WAAA,GACA,cAwtBA,SAAA,EAAA,EAAA,GACA,IACA,EAAA,CAAA,MADA,EAAA,OAEA,EAAA,CAAA,MAAA,GAEA,EAAA,SACA,KAEA,EAAA,EAAA,EAAA,EAAA,CACA,KAAA,SAAA,GACA,GAAA,EAAA,EAAA,EAAA,WAjuBA,cAiDA,SAAA,GAEA,IAAA,EAAA,EAAA,wBACA,EAAA,EAAA,EAAA,MAAA,EAAA,QAEA,EAAA,EAAA,MAAA,EAAA,KACA,EAAA,EAAA,OAAA,EAAA,IACA,IAAA,OAAA,SAAA,KAAA,OAAA,SAAA,GACA,MAAA,IAAA,MAAA,qBAGA,IAAA,EAAA,EAAA,EAAA,EACA,EAAA,EAAA,EAAA,EACA,EAAA,KAAA,IAAA,EAAA,GACA,EAAA,IAAA,EAAA,KAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EACA,EAAA,IAAA,EAAA,IAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EACA,EAAA,MAAA,GA/DA,MA+BA,WACA,KACA,GAAA,GAhCA,OAmCA,WACA,IACA,KACA,GAAA,IArCA,SAyCA,WACA,OAAA,GAxCA,aA+GA,WAEA,OAAA,GA/GA,WAkHA,WACA,OAAA,GAlHA,WAqHA,SAAA,GACA,EAAA,GApHA,WAuHA,WACA,OAAA,GAvHA,WA0HA,SAAA,GACA,EAAA,GAzHA,mBA4HA,WACA,OAAA,GA5HA,mBA+HA,SAAA,GACA,EAAA,EAAA,IA9HA,aAiIA,WACA,OAAA,GAjIA,aAoIA,SAAA,GACA,IAAA,OAAA,SAAA,GACA,MAAA,IAAA,MAAA,iCAEA,EAAA,IArIA,EAAA,GAEA,IAAA,EAAA,iBAAA,EAAA,SAAA,EAAA,SAAA,EAAA,EACA,EAAA,iBAAA,EAAA,SAAA,EAAA,SAAA,EAAA,EACA,EAAA,iBAAA,EAAA,YAAA,EAAA,YAAA,EAAA,MAMA,OAJA,GAAA,EAAA,GAAA,GAAA,EAAA,GAAA,GAAA,EAAA,OACA,GAAA,EAAA,EAAA,GAGA,EAqCA,SAAA,EAAA,EAAA,GACA,GAAA,EAAA,aAAA,CACA,IAAA,EAAA,EAAA,eACA,EAAA,EAAA,EACA,EAAA,EAAA,EACA,EAAA,EAAA,EACA,EAAA,EAAA,EACA,EAAA,EAAA,EAAA,EAAA,EACA,EAAA,EAAA,EAAA,EAAA,OAEA,EAAA,EAAA,EACA,EAAA,EAAA,EAGA,OAAA,EAkFA,SAAA,GAAA,EAAA,GACA,EAAA,EAAA,EACA,EAAA,EAAA,EAEA,KAEA,GAAA,OACA,KAGA,SAAA,GAAA,EAAA,GACA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAGA,SAAA,KACA,IAAA,EAAA,KACA,GAAA,EAAA,CAEA,IA0DA,EACA,EAUA,EAAA,EArEA,GAAA,EACA,GAyDA,EAAA,EAAA,UAWA,EAVA,EAAA,KAUA,EAVA,EAAA,IAEA,CACA,MAHA,EAWA,CACA,EAAA,EAAA,EAAA,MAAA,EAAA,EACA,EAAA,EAAA,EAAA,MAAA,EAAA,IAVA,EACA,IAAA,EAAA,EACA,MAAA,EAAA,MAAA,EAAA,MAAA,EAAA,EACA,OAAA,EAAA,OAAA,EAAA,MAAA,EAAA,IA9DA,EAAA,EAAA,KAAA,EAAA,MA4BA,OA3BA,EAAA,IACA,EAAA,GAAA,EACA,GAAA,IAGA,EAAA,EAAA,MAAA,EAAA,MACA,IACA,EAAA,GAAA,EACA,GAAA,IAIA,EAAA,EAAA,IAAA,EAAA,QACA,IAKA,EAAA,GAAA,EACA,GAAA,IAGA,EAAA,EAAA,OAAA,EAAA,KACA,IACA,EAAA,GAAA,EACA,GAAA,GAEA,GAMA,SAAA,KACA,GAAA,EAAA,CAEA,GAAA,kBAAA,EAAA,CAEA,IAAA,EAAA,EAAA,wBACA,EAAA,EAAA,MACA,EAAA,EAAA,OAEA,MAAA,CACA,KAAA,EAAA,EACA,IAAA,EAAA,EACA,MAAA,GAAA,EAAA,GACA,OAAA,GAAA,EAAA,IAIA,OAAA,GAsBA,SAAA,KACA,GAAA,EACA,EAAA,OAAA,sBAAA,IAGA,SAAA,GAAA,EAAA,EAAA,GACA,GAAA,EAAA,IAAA,EAAA,IAAA,EAAA,GACA,MAAA,IAAA,MAAA,+BAGA,IAAA,EAAA,EAAA,MAAA,EAEA,GAAA,EAAA,EAAA,CACA,GAAA,EAAA,QAAA,EAAA,OAEA,EAAA,EAAA,EAAA,MAEA,GAAA,EAAA,EAAA,CACA,GAAA,EAAA,QAAA,EAAA,OAEA,EAAA,EAAA,EAAA,MAGA,IAAA,EAAA,EAAA,EAAA,IAEA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,GAGA,GAAA,IAAA,GAAA,IAAA,IACA,EAAA,OAAA,EACA,MAEA,OACA,EAAA,OAAA,GAGA,GAAA,QAEA,KAGA,SAAA,GAAA,EAAA,EAAA,GAEA,GAAA,EAAA,EADA,EAAA,EAAA,OAyBA,SAAA,GAAA,EAAA,EAAA,GACA,IAAA,EACA,OAAA,GAAA,EAAA,GAGA,GAAA,EAAA,SAEA,IAEA,EAAA,EACA,EAAA,EAEA,EAAA,EALA,CAAA,EAAA,EAAA,EAAA,GACA,CAAA,EAAA,EAAA,EAAA,GAIA,CACA,KAAA,SAAA,GACA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAEA,EAAA,EAAA,EACA,EAAA,EAAA,KAcA,SAAA,KACA,EAAA,iBAAA,YAAA,GAAA,CAAA,SAAA,IACA,EAAA,iBAAA,WAAA,GAAA,CAAA,SAAA,IACA,EAAA,iBAAA,aAAA,GAAA,CAAA,SAAA,IACA,EAAA,iBAAA,UAAA,GAAA,CAAA,SAAA,IAIA,EAAA,iBAAA,EAAA,GAAA,CAAA,SAAA,IAEA,KAGA,SAAA,KACA,EAAA,oBAAA,EAAA,IACA,EAAA,oBAAA,YAAA,IACA,EAAA,oBAAA,UAAA,IACA,EAAA,oBAAA,WAAA,IACA,EAAA,oBAAA,aAAA,IAEA,IACA,OAAA,qBAAA,GACA,EAAA,GAGA,EAAA,SAEA,KACA,KACA,EAAA,UAEA,KAGA,SAAA,KACA,IAIA,GAAA,EAGA,EAAA,eAAA,GAEA,GAAA,aACA,EAAA,GAGA,SAAA,GAAA,GACA,IAAA,EAAA,EACA,EAAA,EACA,EAAA,EAiBA,GAhBA,KAAA,EAAA,QACA,EAAA,EACA,KAAA,EAAA,QACA,GAAA,EACA,KAAA,EAAA,QACA,EAAA,EACA,KAAA,EAAA,QACA,GAAA,EACA,MAAA,EAAA,SAAA,MAAA,EAAA,QAEA,EAAA,EACA,MAAA,EAAA,SAAA,MAAA,EAAA,UAEA,GAAA,IAGA,EAAA,EAAA,EAAA,EAAA,GAAA,CAKA,GAAA,GAAA,EAAA,CACA,EAAA,iBACA,EAAA,kBAEA,IAAA,EAAA,EAAA,wBAQA,GALA,KADA,EAAA,KAAA,IAAA,EAAA,MAAA,EAAA,SAEA,EADA,IAEA,EAAA,GAMA,GAAA,EAAA,CACA,IACA,EADA,EAAA,GAAA,IAAA,GAEA,IADA,EAAA,EAAA,KAOA,CACA,GAFA,EAAA,EAAA,yBAEA,MAAA,EACA,EAAA,EAAA,OAAA,IARA,EAAA,EAAA,EAAA,GAIA,IACA,GAOA,SAAA,GAAA,GAIA,GAUA,SAAA,GAEA,GAAA,EAAA,UAAA,EAAA,QAAA,GAGA,OAGA,EAAA,kBACA,EAAA,iBArBA,CAAA,GAEA,IAAA,EAAA,QAAA,OACA,OAiCA,SAAA,GACA,IACA,EAAA,GADA,EAAA,QAAA,IAEA,EAAA,EACA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EACA,EAAA,EAAA,EAEA,EAAA,SACA,KA1CA,CAAA,EAAA,EAAA,QAAA,IACA,IAAA,EAAA,QAAA,SAEA,EAAA,GAAA,EAAA,QAAA,GAAA,EAAA,QAAA,IACA,GAAA,EACA,MAwCA,SAAA,KACA,IAKA,GAAA,EACA,SAAA,iBAAA,YAAA,IACA,SAAA,iBAAA,WAAA,IACA,SAAA,iBAAA,cAAA,KAGA,SAAA,GAAA,GACA,GAAA,IAAA,EAAA,QAAA,OAAA,CACA,EAAA,kBACA,IAGA,EAAA,GADA,EAAA,GAFA,EAAA,QAAA,KAGA,EAAA,EAAA,GAEA,EAAA,EAAA,EAAA,EACA,EAAA,EAAA,EAAA,EAEA,IAAA,GAAA,IAAA,GACA,KAEA,EAAA,EAAA,EACA,EAAA,EAAA,EACA,GAAA,EAAA,QACA,GAAA,IAAA,EAAA,QAAA,OAAA,CAEA,GAAA,EACA,IAAA,EAAA,EAAA,QAAA,GACA,EAAA,EAAA,QAAA,GACA,EAAA,GAAA,EAAA,GAIA,EACA,GAAA,EAAA,EAAA,GAAA,EAEA,EAAA,GAAA,GACA,EAAA,GAAA,GAGA,GAFA,GAAA,EAAA,EAAA,EAAA,GAAA,EACA,GAAA,EAAA,EAAA,EAAA,GAAA,EACA,EAAA,CACA,IAAA,EAAA,KACA,EAAA,EAAA,EACA,EAAA,EAAA,EAGA,GAAA,EAAA,EAAA,GAEA,EAAA,EACA,EAAA,kBACA,EAAA,kBAIA,SAAA,GAAA,GACA,GAAA,EAAA,QAAA,OAAA,EAAA,CACA,IACA,EAAA,GADA,EAAA,GAAA,EAAA,QAAA,KACA,EAAA,EAAA,GACA,EAAA,EAAA,EACA,EAAA,EAAA,MACA,CACA,IAGA,EAHA,EAAA,IAAA,KACA,GAAA,EAAA,EAAA,EACA,GAAA,EAEA,IADA,EAAA,MACA,EAAA,EAAA,EAAA,QAGA,GAAA,EAAA,EAAA,EAAA,EAAA,GAIA,EAAA,EAEA,KACA,MAIA,SAAA,GAAA,EAAA,GACA,IAAA,EAAA,EAAA,QAAA,EAAA,QACA,EAAA,EAAA,QAAA,EAAA,QACA,OAAA,KAAA,KAAA,EAAA,EAAA,EAAA,GAGA,SAAA,GAAA,IAlHA,SAAA,GAEA,EAAA,gBAAA,EAAA,cAAA,KAMA,EAAA,iBACA,EAAA,mBA0GA,CAAA,GACA,IAAA,EAAA,GAAA,GACA,IAGA,EAAA,MAEA,GAAA,EAAA,EAAA,EAAA,EAAA,GAGA,SAAA,GAAA,GAEA,IAAA,EAAA,GAAA,CAEA,GAAA,EAIA,OADA,EAAA,mBACA,EAMA,GADA,IAAA,EAAA,QAAA,OAAA,OAAA,OAAA,IAAA,EAAA,OACA,CAEA,EAAA,SAEA,IAAA,EAAA,GAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GAUA,OATA,EAAA,EAAA,EACA,EAAA,EAAA,EAIA,SAAA,iBAAA,YAAA,IACA,SAAA,iBAAA,UAAA,IACA,EAAA,QAAA,EAAA,QAAA,EAAA,aAEA,IAGA,SAAA,GAAA,GAEA,IAAA,EAAA,CAEA,KAEA,IAAA,EAAA,GAAA,GACA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,EACA,EAAA,EAAA,EAAA,EAEA,EAAA,EAAA,EACA,EAAA,EAAA,EAEA,GAAA,EAAA,IAGA,SAAA,KACA,EAAA,UACA,KACA,KAGA,SAAA,KACA,SAAA,oBAAA,YAAA,IACA,SAAA,oBAAA,UAAA,IACA,GAAA,EAGA,SAAA,KACA,SAAA,oBAAA,YAAA,IACA,SAAA,oBAAA,WAAA,IACA,SAAA,oBAAA,cAAA,IACA,GAAA,EACA,GAAA,EACA,GAAA,EAGA,SAAA,GAAA,GAEA,IAAA,EAAA,GAAA,CAEA,EAAA,SAEA,IAAA,EAAA,EAAA,OACA,EAAA,UAAA,IAAA,GAAA,KAEA,IAAA,EAAA,GAAA,GAEA,GAAA,IAAA,EAAA,CACA,IAAA,EAAA,EACA,KACA,GAAA,GACA,GAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,mBAIA,SAAA,GAAA,GACA,IAEA,EAAA,EAAA,wBAIA,MAAA,CAAA,EAHA,EAAA,QAAA,EAAA,KAGA,EAFA,EAAA,QAAA,EAAA,KAKA,SAAA,GAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,MACA,EAAA,CAAA,MAAA,GACA,EAAA,CAAA,MAAA,EAAA,GAEA,EAAA,SACA,KAEA,EAAA,EAAA,EAAA,EAAA,CACA,KAAA,SAAA,GACA,GAAA,EAAA,EAAA,EAAA,QAEA,KAAA,KAmBA,SAAA,KACA,IAAA,EAAA,EAAA,wBACA,MAAA,CACA,EAAA,EAAA,MAAA,EAAA,EACA,EAAA,EAAA,OAAA,EAAA,GAIA,SAAA,GAAA,EAAA,EAAA,GAGA,OAFA,EAAA,SACA,KACA,GAAA,EAAA,EAAA,GAGA,SAAA,KACA,IACA,EAAA,SACA,EAAA,MAIA,SAAA,GAAA,GAGA,OAAA,EAFA,KAAA,KAAA,GACA,KAAA,IAAA,IAAA,KAAA,IAAA,EAAA,EAAA,MAIA,SAAA,KACA,IACA,GAAA,YACA,GAAA,EACA,EAAA,SAIA,SAAA,KACA,IAEA,GAAA,EAAA,OACA,GAAA,WAIA,SAAA,KACA,GAAA,WAGA,SAAA,GAAA,GACA,EAAA,KAAA,EAAA,IAIA,SAAA,EAAA,GACA,GAAA,EACA,MAAA,iBAAA,GACA,EAAA,EAAA,IAAA,EAAA,EAAA,IACA,EAAA,GACA,QAGA,IAGA,SAAA,EAAA,GAEA,MADA,QAAA,MAAA,GACA,IAAA,MACA,CACA,iCACA,sBACA,0DACA,qDACA,sDACA,KAAA,OAIA,SAAA,KAEA,SAAA,EAAA,GACA,IAAA,SAAA,EACA,GAAA,cAAA,GAAA,YAAA,KAGA,EAAA,EAAA,OACA,EAAA,EAAA,MACA,EAAA,EAAA,SACA,EAAA,EAAA,QAGA,MAAA,IAAA,MACA,kHAKA,SAAA,EAAA,GACA,OAAA,OAAA,SAAA,GAIA,SAAA,EAAA,GACA,OAAA,OAAA,MACA,OAAA,MAAA,GAGA,GAAA,EAGA,SAAA,IACA,MAAA,CACA,MAAA,EACA,KAAA,EACA,OAAA,GAIA,SAAA,IACA,GAAA,oBAAA,SAAA,CAEA,IAAA,EAAA,SAAA,qBAAA,UACA,GAAA,EAAA,CAGA,IAFA,IAAA,EAEA,EAAA,EAAA,EAAA,EAAA,SAAA,EAAA,CACA,IAAA,EAAA,EAAA,GACA,GAAA,EAAA,KAAA,EAAA,IAAA,MAAA,yBAAA,CACA,EAAA,EACA,OAIA,GAAA,EAAA,CAEA,IAAA,EAAA,EAAA,aAAA,SACA,GAAA,EAAA,CAEA,IAAA,EAAA,EAAA,aAAA,SAAA,KACA,EAAA,KAAA,OAIA,SAAA,IACA,IAAA,EAAA,SAAA,cAAA,GACA,IAAA,EAAA,CACA,IAAA,EAAA,KAAA,MACA,EAAA,EAAA,EACA,OAAA,EAAA,SAEA,WAAA,EAAA,UAIA,QAAA,MAAA,kCAAA,GAGA,IAAA,EAKA,SAAA,GAGA,IAFA,IAAA,EAAA,EAAA,WACA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,SAAA,EAAA,CACA,IAAA,EAAA,EAAA,GACA,EAAA,EAAA,GACA,IACA,EAAA,EAAA,MAAA,EAAA,OAIA,OAAA,EAhBA,CAAA,GACA,QAAA,IAAA,GACA,OAAA,GAAA,EAAA,EAAA,GAlBA,MAmCA,SAAA,EAAA,GACA,GAAA,EAAA,OAEA,MAAA,EAAA,KAAA,IAAA,MAAA,EAAA,KAAA,IAAA,MAAA,EAAA,KAAA,IAMA,MAAA,CAAA,KAFA,EAAA,KAAA,OAAA,GAEA,MADA,KAAA,MAAA,EAAA,SAjgCA,OAAA,QAAA,EAsgCA;;AC5gCC,aAbM,SAASA,EAAgBC,GACxBC,IAAAA,EAAMD,EAAEE,SAAS,IAChBD,OAAe,IAAfA,EAAIE,OAAe,IAAMF,EAAMA,EAGjC,SAASG,EAAUC,EAAGC,EAAGC,GACvB,MAAA,IAAMR,EAAeM,GAAKN,EAAeO,GAAKP,EAAeQ,GAG/D,SAASC,EAAeC,GACtBC,OAAAA,SAASD,EAASE,QAAQ,IAAK,IAAK,IAAM,UAC7C,QACA,QACL,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,eAAA,EAAA,QAAA,SAAA,EAAA,QAAA,cAAA;;AC6CA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAAA,QAAA,aAAA,EAAA,QAAA,aAAA,EAAA,QAAA,cAAA,EA1DD,IAAA,EAAA,QAAA,WA0DC,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,6IAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,SAAA,EAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,CAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAxDM,SAASC,EAAYC,GAEnBC,OADQC,SAASC,eAAeH,GACzBD,WAAW,MAGpB,SAASK,EAAcC,EAASC,GAGhC,IAFCC,IAAAA,EAAS,GACWF,EAAAA,EAAQJ,OAA1BO,EAAAA,EAAAA,MAAOC,EAAAA,EAAAA,OACNC,EAAI,EAAGA,EAAIF,EAAOE,IACpB,IAAA,IAAIC,EAAI,EAAGA,EAAIF,EAAQE,IAAK,CACzBC,IAAAA,EAAQC,EAAcR,EAAS,CAAEK,EAAAA,EAAGC,EAAAA,IACpCG,GAAUP,EAAOQ,SAASH,GAE5BE,GACFP,EAAOS,KAAKJ,GAGdN,EAAGI,EAAGC,EAAGC,EAAOL,EAAOU,QAAQL,GAAQE,IAKtC,SAASI,EAAcC,EAAiBC,EAAiBC,GACxDd,IAAAA,EAAS,GA2BRA,OAzBPH,EAAae,EAAiB,SAACT,EAAGC,EAAGC,EAAOU,EAAYR,GACtDM,EAAgBG,YAChBH,EAAgBI,KACdd,EAAIW,EACJV,EAAIU,EACJA,EACAA,GAEFD,EAAgBK,SAChBL,EAAgBM,UAAY,OAC5BN,EAAgBO,KAAO,GAAMN,EAAgB,WAC7CD,EAAgBQ,UAAY,SAC5BR,EAAgBS,SACdP,EAAa,EACbZ,EAAIW,EAAgBA,EAAgB,EACpCV,EAAIU,EAAgBA,EAAgB,EAAK,GAAMA,EAAiB,GAG9DP,EACFP,EAAOK,GAAS,EAEhBL,EAAOK,IAAU,IAIdL,EAGF,SAASM,EAAeR,EAAmB,GAARK,IAAAA,EAAAA,EAAAA,EAAGC,EAAAA,EAAAA,EACzBN,EAAAA,EAAAA,EAAQyB,aAAapB,EAAGC,EAAG,EAAG,GAAGoB,KADH,GACzCvC,EADyC,EAAA,GACtCC,EADsC,EAAA,GACnCC,EADmC,EAAA,GAEzC,OAAA,EAASF,EAAAA,UAAAA,EAAGC,EAAGC;;;ACnCvB,IAAA,EAAA,UAAA,GAtBK,EAAkC,mBAAA,QAAA,iBAAA,OAAA,SAAA,SAAA,GAAA,cAAA,GAAA,SAAA,GAAA,OAAA,GAAA,mBAAA,QAAA,EAAA,cAAA,QAAA,IAAA,OAAA,UAAA,gBAAA,GAKtC,SAAQ,EAAmB,EAAI,GAAkB,KAAM,aAAW,GAAA,MAAA,IAAA,UAAA,qCAEpE,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAIE,IAAA,EAAS,6BAET,EAAuB,YAAA,oBAAF,KAAE,YAAA,EAAA,QAAA,KAAA,OAAA,MAAA,MAAA,iBAAA,IAAA,EAAA,YAAA,EAAA,KAAA,EAAA,SAAA,GAAA,EACxB,EAAA,SAAA,IAEG,EAAkB,KAAW,GAE7B,KAAc,UAAI,IAAG,QACvB,KAAA,aAAA,UAEA,EAAc,IAAI,EACpB,QAAC,YAAA,EAAA,EAAA,GAAA,QAAA,YAAA,EAAA,EAAA,GAAA,EAAA,GAAA;;aCtBD,IAAA,EAAA,WAAqC,OAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,OAAA,YAAA,OAAA,GAAA,OAAA,SAAA,EAAA,GAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,OAAA,EAAA,IAAA,IAAA,IAAA,EAAA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,QAAA,EAAA,KAAA,EAAA,QAAA,GAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,KAAA,GAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,EAAA,CAAA,EAAA,GAAA,MAAA,IAAA,UAAA,yDAArC,GAcW,EAAqD,WAAW,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,OAAA,SAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,GAAX,cAEpD,EAAY,GAAc,KAAU,aAAS,GAAA,MAAA,IAAA,UAAA,4CAEpD,eAAA,QAAA,aAAA,CAAA,OAAA,QAKM,EAAO,QAAuB,aAE7B,oBACH,IAED,EAAc,KAAG,YAKhB,EAAA,CAAA,CAED,IAAK,YAED,SAAO,EAAe,GAClB,EAAA,YAAgB,UAAA,IAAA,IAChB,EAAA,YAAkB,UAAA,IAAA,EAAA,+BAKN,OACX,EAAA,YAAA,UAAA,IAAA,GACH,MAAA,IAAA,MAAA,EAAA,KAAA,gCAGN,IAAO,EAAQ,EAAA,YAAA,UAAA,IAAA,GAClB,IAAA,EAAA,EAAA,YAAA,cACJ,OAAA,uZA1BW;;aCzBZ,OAAA,eAAA,QAAA,aAAqC,CAAA,OAAA,IAErC,IAAA,EAAA,QAAmB,mBAEX,QAAU,SAAG,UACb,SAAW,EAAU,EAAO,GAC5B,IACA,EAAW,YAAe,EAC7B,EAAA,cAAA,EAGI,EAAO,UAAA,GAEJ,EAAA,EAAgB,YAAA,eAChB,OAAA,eAAkB,EAAA,EAAA,YAAA,aAAA,CAClB,YAAgB,EAClB,cAAA,EACL,MAAA,IAAA;;aCjBL,IAAA,EAAA,mBAAA,QAAmC,iBAAA,OAAA,SAAA,SAAA,GAAA,cAAA,GAAA,SAAA,GAAA,OAAA,GAAA,mBAAA,QAAA,EAAA,cAAA,QAAA,IAAA,OAAA,UAAA,gBAAA,UAkBjC,eAAiB,QAAQ,aAAM,CAAA,OAAA,UACzB,QAAc,0BAChB,EAAW,UACZ,KAAA,GAAA,QAAA,SAAA,GAAC,GAAM,WAAF,EAAE,EAAA,IACN,EAAI,EAAuB,EAAI,QAC/B,CACD,IAAA,EAAA,IAAA,EAAA,GACD,EAAA,IAAA,EAAA,GAAA,eAUF,EAAW,GAEX,IAAA,EAAe,IAAG,EAAY,QAW/B,SAVO,EAAuB,GAElB,OAAO,KAAA,GAAA,OAA2B,SAAK,EAAA,GAK/C,MAJA,WAAA,EAAA,EAAA,IAAK,EAAE,GAAA,EAAA,EAAA,IAEP,EAAA,GAAA,EAAA,IAAA,EAAA,IAEU,GAEb;;aC/CF,OAAA,eAAA,QAAA,aAAkD,CAAA,OAAA,IAAzC,IAAA,EAAA,QAAA,eACT,QAAA,UAAA,EAAA,QAAS,IAAA,EAAA,QAAA,gBACT,QAAA,OAAA,EAAA,QAAS,IAAA,EAAA,QAAA;;ACFT,SAAA,EAAA,GACA,OAAA,GAAA,EAAA,WAAA,EAAA,CACA,QAAA,GAIA,OAAA,QAAA;;ACNA,SAAA,EAAA,EAAA,GACA,KAAA,aAAA,GACA,MAAA,IAAA,UAAA,qCAIA,OAAA,QAAA;;ACNA,SAAA,EAAA,EAAA,GACA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CACA,IAAA,EAAA,EAAA,GACA,EAAA,WAAA,EAAA,aAAA,EACA,EAAA,cAAA,EACA,UAAA,IAAA,EAAA,UAAA,GACA,OAAA,eAAA,EAAA,EAAA,IAAA,IAIA,SAAA,EAAA,EAAA,EAAA,GAGA,OAFA,GAAA,EAAA,EAAA,UAAA,GACA,GAAA,EAAA,EAAA,GACA,EAGA,OAAA,QAAA;;AChBA,SAAA,EAAA,GAaA,MAVA,mBAAA,QAAA,iBAAA,OAAA,SACA,OAAA,QAAA,EAAA,SAAA,GACA,cAAA,GAGA,OAAA,QAAA,EAAA,SAAA,GACA,OAAA,GAAA,mBAAA,QAAA,EAAA,cAAA,QAAA,IAAA,OAAA,UAAA,gBAAA,GAIA,EAAA,GAGA,OAAA,QAAA;;AChBA,aAEA,IAAA,EAAA,QAAA,gDAEA,EAAA,EAAA,QAAA,0CAEA,EAAA,EAAA,QAAA,uCAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAEA,WACA,SAAA,KACA,EAAA,EAAA,SAAA,KAAA,GAEA,KAAA,OAAA,IAAA,IAoDA,OAjDA,EAAA,EAAA,SAAA,EAAA,CAAA,CACA,IAAA,KACA,MAAA,SAAA,EAAA,GACA,IAAA,EAAA,CACA,SAAA,GAGA,KAAA,OAAA,IAAA,GAEA,KAAA,OAAA,IAAA,GAAA,KAAA,GAGA,KAAA,OAAA,IAAA,EAAA,CAAA,MAOA,CACA,IAAA,MACA,MAAA,SAAA,EAAA,GACA,IAAA,KAAA,OAAA,IAAA,GACA,OAAA,EAGA,IAAA,EAAA,KAAA,OAAA,IAAA,GAAA,OAAA,SAAA,GACA,OAAA,EAAA,WAAA,IAGA,OADA,KAAA,OAAA,IAAA,EAAA,IACA,IAMA,CACA,IAAA,OACA,MAAA,SAAA,EAAA,GACA,SAAA,IAAA,KAAA,OAAA,IAAA,MAIA,KAAA,OAAA,IAAA,GAAA,QAAA,SAAA,GACA,EAAA,SAAA,MAEA,OAGA,EAxDA,GA2DA,QAAA,MAAA;;;AC0BA,IAAA,EAAA,UAAA,GAjGA,EAAA,QAAA,gDAEA,EAAA,EAAA,QAAA,0CAEA,EAAA,EAAA,QAAA,kCAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAAA,QAAA,WAEA,EAAA,eACA,EAAA,YAAA,oBAAA,KAAA,aAAA,EAAA,EAAA,SAAA,QAAA,KAAA,OAAA,MAAA,MAAA,iBAAA,IAAA,EAAA,aAAA,EAAA,EAAA,SAAA,KAAA,EAAA,SAAA,GAAA,EAEA,EAAA,SAAA,KACA,EAAA,EAAA,SAAA,KAAA,GAMA,KAAA,QAAA,IAAA,QAMA,KAAA,cAAA,IAAA,QAKA,KAAA,uBAAA,IAAA,QACA,KAAA,gBAAA,KAMA,KAAA,UAAA,EACA,KAAA,iBAAA,IAAA,IAKA,KAAA,oBAAA,SAWA,KAAA,cAAA,IAAA,IACA,KAAA,UAAA,EAKA,KAAA,yBAAA,KAKA,KAAA,8BAAA,IAAA,IAKA,KAAA,WAAA,IAAA,QAKA,KAAA,iBAAA,KACA,KAAA,eAAA,KACA,KAAA,YAAA,EACA,KAAA,MAAA,IAAA,EAAA,MACA,KAAA,gBAAA,EAKA,KAAA,qBAAA,IAGA,EAAA,IAAA,EACA,QAAA,YAAA,EAEA,EAAA,GACA,QAAA,YAAA,EAAA,EAAA,GAEA,EAAA,GAAA;;AClGA,SAAA,EAAA,EAAA,GAMA,OALA,OAAA,QAAA,EAAA,OAAA,gBAAA,SAAA,EAAA,GAEA,OADA,EAAA,UAAA,EACA,GAGA,EAAA,EAAA,GAGA,OAAA,QAAA;;ACTA,SAAA,IACA,GAAA,oBAAA,UAAA,QAAA,UAAA,OAAA,EACA,GAAA,QAAA,UAAA,KAAA,OAAA,EACA,GAAA,mBAAA,MAAA,OAAA,EAEA,IAEA,OADA,KAAA,UAAA,SAAA,KAAA,QAAA,UAAA,KAAA,GAAA,gBACA,EACA,MAAA,GACA,OAAA,GAIA,OAAA,QAAA;;ACbA,IAAA,EAAA,QAAA,oBAEA,EAAA,QAAA,8BAEA,SAAA,EAAA,EAAA,EAAA,GAcA,OAbA,IACA,OAAA,QAAA,EAAA,QAAA,UAEA,OAAA,QAAA,EAAA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,CAAA,MACA,EAAA,KAAA,MAAA,EAAA,GACA,IACA,EAAA,IADA,SAAA,KAAA,MAAA,EAAA,IAGA,OADA,GAAA,EAAA,EAAA,EAAA,WACA,GAIA,EAAA,MAAA,KAAA,WAGA,OAAA,QAAA;;ACrBA,aAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAAA,QAAA,mBAEA,EAAA,IAAA,UACA,EAAA,OAAA,kBACA,EAAA,CAAA,MAAA,OACA,EAAA,CAAA,UAAA,OAAA,SAAA,UAAA,OAAA,UACA,EAAA,CAAA,MAAA,SAAA,SAAA,OAAA,EAAA,GAEA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,KAAA,GACA,IAAA,GAAA,EACA,GAAA,EACA,OAAA,EAEA,IAUA,IATA,IASA,EATA,EAAA,WACA,IAAA,EAAA,EAAA,MAGA,EAAA,KAAA,GAAA,WACA,EAAA,GAAA,MAAA,EAAA,aAIA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,MAAA,GAAA,EACA,IAEA,MAAA,GACA,GAAA,EACA,EAAA,EACA,QACA,IACA,GAAA,MAAA,EAAA,QACA,EAAA,SAEA,QACA,GAAA,EACA,MAAA,GAsBA,IAjBA,IAAA,EAAA,WACA,IAAA,EAAA,EAAA,GAGA,EAAA,GAAA,SAAA,GACA,IAAA,EAAA,EAAA,GAAA,MAAA,KAAA,WAQA,OAPA,EAAA,YAAA,MAAA,KAAA,MAAA,CACA,OAAA,EACA,IAAA,EACA,MAAA,IAEA,EAAA,EAAA,KAAA,EAAA,GACA,EAAA,KAAA,GACA,IAIA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,IAaA,IAVA,IAAA,EAAA,WACA,IAAA,EAAA,EAAA,GAGA,EAAA,GAAA,WAEA,OADA,EAAA,KAAA,GACA,EAAA,GAAA,MAAA,KAAA,aAIA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,IA2DA,OAvDA,EAAA,IAAA,SAAA,EAAA,GACA,IAAA,EAAA,KAAA,IAAA,GACA,EAAA,EAAA,IAAA,MAAA,KAAA,WAaA,OAZA,EAAA,YAAA,MAAA,KAAA,MAAA,CACA,OAAA,EACA,IAAA,EACA,SAAA,EACA,MAAA,IAGA,IAAA,IACA,EAAA,KAAA,GACA,EAAA,KAAA,IAGA,GAIA,EAAA,OAAA,SAAA,GACA,IAAA,EAAA,KAAA,IAAA,GACA,EAAA,EAAA,OAAA,MAAA,KAAA,WAWA,OAVA,EAAA,YAAA,MAAA,KAAA,iBAAA,CACA,OAAA,EACA,IAAA,IAGA,IACA,EAAA,KAAA,GACA,EAAA,KAAA,IAGA,GAIA,EAAA,MAAA,WACA,IAAA,EAAA,KAAA,KACA,EAAA,EAAA,MAAA,MAAA,KAAA,WAMA,OAJA,GACA,EAAA,KAAA,GAGA,GAGA,OAAA,eAAA,EAAA,OAAA,CACA,IAAA,WACA,IAAA,EAAA,OAAA,eAAA,MACA,EAAA,QAAA,IAAA,EAAA,OAAA,MAEA,OADA,EAAA,KAAA,GACA,KAGA,EAGA,QAAA,QAAA;;AC9IA,aAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAAA,QAAA,mBAEA,EAAA,IAAA,UACA,EAAA,OAAA,oBACA,EAAA,CAAA,OACA,EAAA,CAAA,UAAA,OAAA,SAAA,UAAA,OAAA,UACA,EAAA,CAAA,MAAA,SAAA,SAAA,OAAA,EAAA,GAEA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,KAAA,GACA,IAAA,GAAA,EACA,GAAA,EACA,OAAA,EAEA,IAUA,IATA,IASA,EATA,EAAA,WACA,IAAA,EAAA,EAAA,MAGA,EAAA,KAAA,GAAA,WACA,EAAA,GAAA,MAAA,EAAA,aAIA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,MAAA,GAAA,EACA,IAEA,MAAA,GACA,GAAA,EACA,EAAA,EACA,QACA,IACA,GAAA,MAAA,EAAA,QACA,EAAA,SAEA,QACA,GAAA,EACA,MAAA,GAsBA,IAjBA,IAAA,EAAA,WACA,IAAA,EAAA,EAAA,GAGA,EAAA,GAAA,SAAA,GACA,IAAA,EAAA,EAAA,GAAA,MAAA,KAAA,WAQA,OAPA,EAAA,YAAA,MAAA,KAAA,MAAA,CACA,OAAA,EACA,IAAA,KACA,MAAA,IAEA,EAAA,EAAA,KAAA,EAAA,GACA,EAAA,KAAA,GACA,IAIA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,IAaA,IAVA,IAAA,EAAA,WACA,IAAA,EAAA,EAAA,GAGA,EAAA,GAAA,WAEA,OADA,EAAA,KAAA,GACA,EAAA,GAAA,MAAA,KAAA,aAIA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,IA2DA,OAvDA,EAAA,IAAA,SAAA,GACA,IAAA,EAAA,KAAA,IAAA,GACA,EAAA,EAAA,IAAA,MAAA,KAAA,WAaA,OAZA,EAAA,YAAA,MAAA,KAAA,MAAA,CACA,OAAA,EACA,IAAA,KACA,MAAA,EACA,SAAA,OAGA,IACA,EAAA,KAAA,GACA,EAAA,KAAA,IAGA,GAIA,EAAA,OAAA,SAAA,GACA,IAAA,EAAA,KAAA,IAAA,GACA,EAAA,EAAA,OAAA,MAAA,KAAA,WAWA,OAVA,EAAA,YAAA,MAAA,KAAA,iBAAA,CACA,OAAA,EACA,IAAA,OAGA,IACA,EAAA,KAAA,GACA,EAAA,KAAA,IAGA,GAIA,EAAA,MAAA,WACA,IAAA,EAAA,KAAA,KACA,EAAA,EAAA,MAAA,MAAA,KAAA,WAMA,OAJA,GACA,EAAA,KAAA,GAGA,GAGA,OAAA,eAAA,EAAA,OAAA,CACA,IAAA,WACA,IAAA,EAAA,OAAA,eAAA,MACA,EAAA,QAAA,IAAA,EAAA,OAAA,MAEA,OADA,EAAA,KAAA,GACA,KAGA,EAGA,QAAA,QAAA;;AC9IA,aAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAAA,QAAA,mBAEA,EAAA,QAAA,UACA,EAAA,CAAA,MAAA,OACA,EAAA,CAAA,MAAA,UAAA,OAAA,GAEA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,KAAA,GACA,IAAA,GAAA,EACA,GAAA,EACA,OAAA,EAEA,IAUA,IATA,IASA,EATA,EAAA,WACA,IAAA,EAAA,EAAA,MAGA,EAAA,KAAA,GAAA,WACA,EAAA,GAAA,MAAA,EAAA,aAIA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,MAAA,GAAA,EACA,IAEA,MAAA,GACA,GAAA,EACA,EAAA,EACA,QACA,IACA,GAAA,MAAA,EAAA,QACA,EAAA,SAEA,QACA,GAAA,EACA,MAAA,GAsBA,IAjBA,IAAA,EAAA,WACA,IAAA,EAAA,EAAA,GAGA,EAAA,GAAA,SAAA,GACA,IAAA,EAAA,EAAA,GAAA,MAAA,KAAA,WAQA,OAPA,EAAA,YAAA,MAAA,KAAA,MAAA,CACA,OAAA,EACA,IAAA,KACA,MAAA,IAEA,EAAA,EAAA,KAAA,EAAA,GACA,EAAA,KAAA,GACA,IAIA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,IAqCA,OAjCA,EAAA,IAAA,SAAA,EAAA,GACA,IAAA,EAAA,KAAA,IAAA,GACA,EAAA,EAAA,IAAA,MAAA,KAAA,WAYA,OAXA,EAAA,YAAA,MAAA,KAAA,MAAA,CACA,OAAA,EACA,IAAA,EACA,SAAA,EACA,MAAA,IAGA,IAAA,GACA,EAAA,KAAA,GAGA,GAIA,EAAA,OAAA,SAAA,GACA,IAAA,EAAA,KAAA,IAAA,GACA,EAAA,EAAA,OAAA,MAAA,KAAA,WAUA,OATA,EAAA,YAAA,MAAA,KAAA,iBAAA,CACA,OAAA,EACA,IAAA,IAGA,GACA,EAAA,KAAA,GAGA,GAGA,EAGA,QAAA,QAAA;;ACxGA,aAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAAA,QAAA,mBAEA,EAAA,QAAA,UACA,EAAA,CAAA,OACA,EAAA,CAAA,MAAA,UAAA,OAAA,GAEA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,KAAA,GACA,IAAA,GAAA,EACA,GAAA,EACA,OAAA,EAEA,IAUA,IATA,IASA,EATA,EAAA,WACA,IAAA,EAAA,EAAA,MAGA,EAAA,KAAA,GAAA,WACA,EAAA,GAAA,MAAA,EAAA,aAIA,EAAA,EAAA,OAAA,cAAA,GAAA,EAAA,EAAA,QAAA,MAAA,GAAA,EACA,IAEA,MAAA,GACA,GAAA,EACA,EAAA,EACA,QACA,IACA,GAAA,MAAA,EAAA,QACA,EAAA,SAEA,QACA,GAAA,EACA,MAAA,GAsBA,IAjBA,IAAA,EAAA,WACA,IAAA,EAAA,EAAA,GAGA,EAAA,GAAA,SAAA,GACA,IAAA,EAAA,EAAA,GAAA,MAAA,KAAA,WAQA,OAPA,EAAA,YAAA,MAAA,KAAA,MAAA,CACA,OAAA,EACA,IAAA,KACA,MAAA,IAEA,EAAA,EAAA,KAAA,EAAA,GACA,EAAA,KAAA,GACA,IAIA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,IAqCA,OAjCA,EAAA,IAAA,SAAA,GACA,IAAA,EAAA,KAAA,IAAA,GACA,EAAA,EAAA,IAAA,MAAA,KAAA,WAYA,OAXA,EAAA,YAAA,MAAA,KAAA,MAAA,CACA,OAAA,EACA,IAAA,KACA,MAAA,EACA,SAAA,OAGA,GACA,EAAA,KAAA,GAGA,GAIA,EAAA,OAAA,SAAA,GACA,IAAA,EAAA,KAAA,IAAA,GACA,EAAA,EAAA,OAAA,MAAA,KAAA,WAUA,OATA,EAAA,YAAA,MAAA,KAAA,iBAAA,CACA,OAAA,EACA,IAAA,OAGA,GACA,EAAA,KAAA,GAGA,GAGA,EAGA,QAAA,QAAA;;ACxGA,aAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAAA,QAAA,SAEA,EAAA,QAAA,SAEA,EAAA,QAAA,cAEA,EAAA,QAAA,cAEA,QAAA,QAAA,IAAA,IAAA,CAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,EAAA,SAAA,CAAA,QAAA,EAAA,SAAA,CAAA,QAAA,EAAA,SAAA,CAAA,MAAA,GAAA,CAAA,QAAA;;ACdA,aAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAAA,QAAA,kBAEA,SAAA,EAAA,GACA,OAAA,MAAA,IAIA,iBAAA,GAAA,iBAAA,GAAA,kBAAA,GAAA,aAAA,MAmBA,SAAA,IACA,OAAA,IAAA,EAAA,YAAA,UAQA,SAAA,IACA,QAAA,EAAA,YAAA,gBAQA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,YAAA,uBAAA,IAAA,GAEA,IACA,EAAA,IAAA,IACA,EAAA,YAAA,uBAAA,IAAA,EAAA,IAGA,IAAA,EAAA,EAAA,IAAA,GAOA,OALA,IACA,EAAA,IAAA,IACA,EAAA,IAAA,EAAA,IAGA,CACA,OAAA,EACA,UAAA,GAMA,SAAA,IACA,EAAA,YAAA,UAAA,EAKA,SAAA,IACA,EAAA,YAAA,UAAA,EAKA,SAAA,IACA,EAAA,YAAA,YAAA,EAKA,SAAA,IACA,EAAA,YAAA,YAAA,EAQA,SAAA,IACA,OAAA,EAAA,YAAA,kBAjFA,QAAA,YAAA,EAMA,QAAA,KAAA,aAUA,QAAA,SAAA,EASA,QAAA,QAAA,EA0BA,QAAA,UAAA,EAMA,QAAA,WAAA,EAMA,QAAA,UAAA,EAMA,QAAA,UAAA,EAMA,QAAA,aAAA,EASA,QAAA,eAAA;;ACxGA,aAEA,IAAA,EAAA,QAAA,gDAEA,EAAA,EAAA,QAAA,0CAEA,EAAA,EAAA,QAAA,uCAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAAA,QAAA,kBAEA,EAAA,QAAA,WAEA,EAEA,WACA,SAAA,EAAA,EAAA,EAAA,IACA,EAAA,EAAA,SAAA,KAAA,GAEA,KAAA,MAAA,KAGA,KAAA,WAAA,IAAA,IACA,KAAA,KAAA,EACA,KAAA,SAAA,EACA,KAAA,MAAA,GAAA,KA4GA,OApGA,EAAA,EAAA,SAAA,EAAA,CAAA,CACA,IAAA,QACA,MAAA,SAAA,GACA,GAAA,EAMA,GAAA,EAAA,UACA,EAAA,YAAA,cAAA,IAAA,KAAA,MAAA,KAAA,KAAA,QADA,CASA,EAAA,YAAA,gBAAA,KAEA,KAAA,eAEA,IACA,EAAA,CACA,QAAA,EAAA,YAAA,iBAEA,QACA,EAAA,YAAA,gBAAA,KAOA,IAAA,EAAA,EAIA,EAAA,MAAA,KAAA,EAAA,YAAA,eACA,EAAA,YAAA,cAAA,QACA,EAAA,QAAA,SAAA,GAGA,KAFA,GANA,IAYA,OAFA,QAAA,KAAA,qFACA,EAAA,YAAA,cAAA,QAIA,SAOA,CACA,IAAA,UACA,MAAA,WACA,KAAA,eACA,KAAA,SAAA,OAMA,CACA,IAAA,MACA,MAAA,WACA,KAAA,UACA,KAAA,aAOA,CACA,IAAA,YACA,MAAA,SAAA,GACA,KAAA,WAAA,IAAA,KAMA,CACA,IAAA,eACA,MAAA,WACA,IAAA,EAAA,KAGA,KAAA,WAAA,QAAA,SAAA,GACA,EAAA,OAAA,KAGA,KAAA,WAAA,YAGA,EAtHA,GAyHA,QAAA,SAAA;;AC3IA,aAEA,IAAA,EAAA,QAAA,gDAEA,EAAA,EAAA,QAAA,kCAEA,EAAA,EAAA,QAAA,qCAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAAA,QAAA,eAEA,EAAA,QAAA,kBAEA,EAAA,QAAA,cAEA,EAAA,QAAA,WAEA,EAAA,IAKA,SAAA,IACA,IAAA,EAAA,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAEA,GAAA,EAAA,YAAA,GACA,MAAA,UAAA,mBAAA,OAAA,EAAA,kCAGA,OAAA,EAAA,YAAA,QAAA,IAAA,GACA,EAAA,YAAA,QAAA,IAAA,GAIA,EAAA,GAOA,SAAA,EAAA,GASA,OARA,WACA,IAAA,IAAA,EAAA,UAAA,OAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IACA,EAAA,GAAA,UAAA,GAGA,OAAA,GAAA,EAAA,EAAA,SAAA,EAAA,KAUA,SAAA,EAAA,GACA,GAAA,OAAA,sBAAA,GAAA,QAAA,EAAA,YAAA,sBAAA,EAEA,OAAA,EAGA,IAAA,EACA,EAAA,EAAA,QAAA,IAAA,EAAA,aAqEA,OAjEA,EAFA,mBAAA,GAAA,YAAA,EAAA,EAAA,SAAA,GAEA,EAAA,EAAA,EAAA,EAAA,GACA,EAyDA,EAxDA,IAAA,MAAA,EAAA,CACA,IAAA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,QAAA,IAAA,EAAA,EAAA,GAEA,MAAA,SAAA,EACA,GAIA,EAAA,YAAA,MAAA,KAAA,MAAA,CACA,OAAA,EACA,IAAA,EACA,MAAA,IAEA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,KAGA,IAAA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,QAAA,IAAA,EAAA,EAAA,GAEA,YAAA,EAAA,EAAA,SAAA,IAAA,IACA,EAAA,EAAA,MAAA,GAGA,EAAA,YAAA,MAAA,KAAA,MAAA,CACA,OAAA,EACA,IAAA,EACA,MAAA,EACA,SAAA,IAEA,IAAA,EAAA,QAAA,IAAA,EAAA,EAAA,EAAA,GAOA,MAJA,WAAA,GAAA,IAAA,GACA,EAAA,EAAA,GAGA,GAEA,eAAA,SAAA,EAAA,GACA,IAAA,EAAA,QAAA,IAAA,EAAA,GACA,EAAA,YAAA,MAAA,KAAA,iBAAA,CACA,OAAA,EACA,IAAA,IAEA,IAAA,EAAA,QAAA,eAAA,EAAA,GAMA,OAJA,GACA,EAAA,EAAA,GAGA,KAOA,EAAA,YAAA,QAAA,IAAA,EAAA,GACA,EAAA,YAAA,QAAA,IAAA,EAAA,GACA,EAAA,YAAA,cAAA,IAAA,EAAA,GACA,EAAA,YAAA,uBAAA,IAAA,EAAA,IAAA,KACA,EAOA,SAAA,EAAA,EAAA,EAAA,GAEA,GAAA,oBAAA,QAAA,aAAA,YACA,OAAA,EAIA,IAAA,EAAA,YAAA,EAAA,EAAA,SAAA,IAAA,EACA,EAAA,GAAA,EAAA,YAAA,QAAA,IAAA,GAEA,OAAA,EACA,GAAA,EAAA,GAGA,EAQA,SAAA,EAAA,EAAA,GAEA,GAAA,EAAA,YAAA,YAAA,IAAA,EAAA,YAAA,UACA,MAAA,MAAA,iEAGA,IACA,EADA,EAAA,UAAA,EAAA,GACA,UAEA,MAAA,KAAA,GAAA,QAAA,SAAA,GACA,EAAA,WACA,EAAA,YAAA,iBAAA,IAAA,GAGA,IAAA,EAAA,YAAA,iBAAA,KACA,EAAA,IAEA,EAAA,YAAA,iBAAA,IAAA,GACA,OAMA,SAAA,EAAA,GACA,EAAA,MAUA,SAAA,IAEA,IAAA,EAAA,EACA,EAAA,YAAA,iBAAA,QAAA,SAAA,KACA,GAEA,EACA,EAAA,YAAA,iBAAA,QAIA,EAAA,KAGA,EAAA,YAAA,iBAAA,QAOA,SAAA,EAAA,EAAA,GAGA,GAAA,EAAA,YAAA,kBAAA,EAAA,WAAA,CAIA,IACA,EADA,EAAA,UAAA,EAAA,GACA,UAGA,EAAA,IAAA,EAAA,YAAA,mBACA,EAAA,IAAA,EAAA,YAAA,iBACA,EAAA,YAAA,gBAAA,UAAA,KAIA,SAAA,EAAA,GACA,OAAA,EAAA,YAAA,QAAA,IAAA,KAAA,EAQA,SAAA,EAAA,EAAA,GACA,IAAA,EAAA,IAAA,EAAA,SAAA,UAAA,WACA,EAAA,MAAA,IACA,GASA,OAPA,EAAA,WAEA,EAAA,YAAA,iBAAA,IAAA,GAEA,EAAA,MAGA,CACA,UAAA,WACA,EAAA,YAUA,SAAA,IACA,IAAA,EAAA,YAAA,YAEA,EAAA,YAAA,iBAAA,IAAA,KAGA,EAAA,YAAA,YACA,EAAA,YAAA,MAAA,KAAA,aAAA,MAQA,SAAA,IACA,KAAA,EAAA,YAAA,WACA,IAGA,EAAA,YAAA,MAAA,KAAA,WAAA,MAKA,SAAA,EAAA,EAAA,EAAA,GACA,YAAA,IAAA,EACA,EAAA,KAAA,KAAA,EAAA,EAAA,MAGA,EAAA,KAAA,KAAA,EAAA,EAAA,YAAA,KAAA,IAAA,EAAA,GAKA,SAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,MACA,MAAA,CACA,IAAA,WACA,IAAA,EAAA,KAEA,OAAA,WACA,IAAA,IAAA,EAAA,UAAA,OAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IACA,EAAA,GAAA,UAAA,GAGA,OAAA,EAAA,EAAA,KAAA,MAAA,EAAA,CAAA,GAAA,OAAA,IAAA,MAMA,SAAA,EAAA,EAAA,GACA,EAAA,YAAA,MAAA,KAAA,cAAA,GACA,IAEA,IACA,OAAA,IACA,QACA,KAOA,SAAA,IACA,IAAA,EAAA,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GAEA,MAAA,mBAAA,EAEA,EAAA,GAEA,EAAA,GASA,SAAA,EAAA,GAIA,OAHA,OAAA,eAAA,EAAA,EAAA,YAAA,oBAAA,CACA,OAAA,IAEA,EApKA,QAAA,YAAA,EAiDA,QAAA,aAAA,EAwBA,QAAA,QAAA,EAeA,QAAA,WAAA,EAaA,QAAA,SAAA,EAUA,QAAA,OAAA,EA4CA,QAAA,WAAA,EAYA,QAAA,OAAA;;ACxWA,aAEA,IAAA,EAAA,QAAA,gDAEA,EAAA,EAAA,QAAA,0CAEA,EAAA,EAAA,QAAA,uCAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAAA,QAAA,kBAEA,EAAA,QAAA,cAEA,EAAA,QAAA,WAEA,EAEA,WACA,SAAA,IACA,IAAA,EAAA,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,EAAA,KACA,EAAA,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,EAAA,MACA,EAAA,EAAA,SAAA,KAAA,GAKA,KAAA,UAAA,IAAA,IACA,KAAA,gBAAA,EACA,KAAA,wBAAA,EACA,KAAA,0BAAA,EA2CA,OApCA,EAAA,EAAA,SAAA,EAAA,CAAA,CACA,IAAA,iBACA,MAAA,WACA,EAAA,aAEA,EAAA,YAAA,iBAEA,KAAA,UAAA,IAAA,EAAA,YAAA,iBAGA,KAAA,iBACA,KAAA,gBAAA,EACA,KAAA,2BAGA,EAAA,aAMA,CACA,IAAA,gBACA,MAAA,WACA,KAAA,UAAA,QAAA,SAAA,GACA,EAAA,YAAA,OAGA,CACA,IAAA,YACA,MAAA,WACA,KAAA,gBAAA,EACA,KAAA,UAAA,QACA,KAAA,gCAGA,EAvDA,GA0DA,QAAA,KAAA;;;;ACsoDA,IAAA,EAAA,UAAA,GA1sDA,EAAA,IAGA,EAAA,4BAGA,EAAA,iBAGA,EAAA,qBACA,EAAA,iBACA,EAAA,mBACA,EAAA,gBACA,EAAA,iBACA,EAAA,oBACA,EAAA,6BACA,EAAA,eACA,EAAA,kBACA,EAAA,kBACA,EAAA,mBACA,EAAA,kBACA,EAAA,eACA,EAAA,kBACA,EAAA,kBACA,EAAA,mBAEA,EAAA,uBACA,EAAA,oBACA,EAAA,wBACA,EAAA,wBACA,EAAA,qBACA,EAAA,sBACA,EAAA,sBACA,EAAA,sBACA,EAAA,6BACA,EAAA,uBACA,EAAA,uBAMA,EAAA,sBAGA,EAAA,OAGA,EAAA,8BAGA,EAAA,mBAGA,EAAA,GACA,EAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAAA,GACA,EAAA,GAAA,EAAA,IAAA,EACA,EAAA,GAAA,EAAA,GACA,EAAA,IAAA,EAGA,IAAA,EAAA,iBAAA,GAAA,GAAA,EAAA,SAAA,QAAA,EAGA,EAAA,iBAAA,MAAA,MAAA,KAAA,SAAA,QAAA,KAGA,EAAA,GAAA,GAAA,SAAA,cAAA,GAGA,EAAA,iBAAA,SAAA,UAAA,QAAA,UAAA,QAGA,EAAA,GAAA,iBAAA,QAAA,SAAA,OAAA,UAAA,OAGA,EAAA,GAAA,EAAA,UAAA,EAUA,SAAA,EAAA,EAAA,GAGA,OADA,EAAA,IAAA,EAAA,GAAA,EAAA,IACA,EAWA,SAAA,EAAA,EAAA,GAGA,OADA,EAAA,IAAA,GACA,EAYA,SAAA,EAAA,EAAA,GAIA,IAHA,IAAA,GAAA,EACA,EAAA,EAAA,EAAA,OAAA,IAEA,EAAA,IACA,IAAA,EAAA,EAAA,GAAA,EAAA,KAIA,OAAA,EAWA,SAAA,EAAA,EAAA,GAKA,IAJA,IAAA,GAAA,EACA,EAAA,EAAA,OACA,EAAA,EAAA,SAEA,EAAA,GACA,EAAA,EAAA,GAAA,EAAA,GAEA,OAAA,EAeA,SAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,GAAA,EACA,EAAA,EAAA,EAAA,OAAA,EAKA,IAHA,GAAA,IACA,EAAA,IAAA,MAEA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,GAEA,OAAA,EAYA,SAAA,EAAA,EAAA,GAIA,IAHA,IAAA,GAAA,EACA,EAAA,MAAA,KAEA,EAAA,GACA,EAAA,GAAA,EAAA,GAEA,OAAA,EAWA,SAAA,EAAA,EAAA,GACA,OAAA,MAAA,OAAA,EAAA,EAAA,GAUA,SAAA,EAAA,GAGA,IAAA,GAAA,EACA,GAAA,MAAA,GAAA,mBAAA,EAAA,SACA,IACA,KAAA,EAAA,IACA,MAAA,IAEA,OAAA,EAUA,SAAA,EAAA,GACA,IAAA,GAAA,EACA,EAAA,MAAA,EAAA,MAKA,OAHA,EAAA,QAAA,SAAA,EAAA,GACA,IAAA,GAAA,CAAA,EAAA,KAEA,EAWA,SAAA,EAAA,EAAA,GACA,OAAA,SAAA,GACA,OAAA,EAAA,EAAA,KAWA,SAAA,EAAA,GACA,IAAA,GAAA,EACA,EAAA,MAAA,EAAA,MAKA,OAHA,EAAA,QAAA,SAAA,GACA,IAAA,GAAA,IAEA,EAIA,IAAA,EAAA,MAAA,UACA,GAAA,SAAA,UACA,GAAA,OAAA,UAGA,GAAA,EAAA,sBAGA,GAAA,WACA,IAAA,EAAA,SAAA,KAAA,IAAA,GAAA,MAAA,GAAA,KAAA,UAAA,IACA,OAAA,EAAA,iBAAA,EAAA,GAFA,GAMA,GAAA,GAAA,SAGA,GAAA,GAAA,eAOA,GAAA,GAAA,SAGA,GAAA,OAAA,IACA,GAAA,KAAA,IAAA,QAAA,EAAA,QACA,QAAA,yDAAA,SAAA,KAIA,GAAA,EAAA,EAAA,YAAA,EACA,GAAA,EAAA,OACA,GAAA,EAAA,WACA,GAAA,EAAA,OAAA,eAAA,QACA,GAAA,OAAA,OACA,GAAA,GAAA,qBACA,GAAA,EAAA,OAGA,GAAA,OAAA,sBACA,GAAA,GAAA,GAAA,cAAA,EACA,GAAA,EAAA,OAAA,KAAA,QAGA,GAAA,GAAA,EAAA,YACA,GAAA,GAAA,EAAA,OACA,GAAA,GAAA,EAAA,WACA,GAAA,GAAA,EAAA,OACA,GAAA,GAAA,EAAA,WACA,GAAA,GAAA,OAAA,UAGA,GAAA,GAAA,IACA,GAAA,GAAA,IACA,GAAA,GAAA,IACA,GAAA,GAAA,IACA,GAAA,GAAA,IAGA,GAAA,GAAA,GAAA,eAAA,EACA,GAAA,GAAA,GAAA,aAAA,EASA,SAAA,GAAA,GACA,IAAA,GAAA,EACA,EAAA,EAAA,EAAA,OAAA,EAGA,IADA,KAAA,UACA,EAAA,GAAA,CACA,IAAA,EAAA,EAAA,GACA,KAAA,IAAA,EAAA,GAAA,EAAA,KAWA,SAAA,KACA,KAAA,SAAA,GAAA,GAAA,MAAA,GAaA,SAAA,GAAA,GACA,OAAA,KAAA,IAAA,WAAA,KAAA,SAAA,GAYA,SAAA,GAAA,GACA,IAAA,EAAA,KAAA,SACA,GAAA,GAAA,CACA,IAAA,EAAA,EAAA,GACA,OAAA,IAAA,OAAA,EAAA,EAEA,OAAA,GAAA,KAAA,EAAA,GAAA,EAAA,QAAA,EAYA,SAAA,GAAA,GACA,IAAA,EAAA,KAAA,SACA,OAAA,QAAA,IAAA,EAAA,GAAA,GAAA,KAAA,EAAA,GAaA,SAAA,GAAA,EAAA,GAGA,OAFA,KAAA,SACA,GAAA,SAAA,IAAA,EAAA,EAAA,EACA,KAiBA,SAAA,GAAA,GACA,IAAA,GAAA,EACA,EAAA,EAAA,EAAA,OAAA,EAGA,IADA,KAAA,UACA,EAAA,GAAA,CACA,IAAA,EAAA,EAAA,GACA,KAAA,IAAA,EAAA,GAAA,EAAA,KAWA,SAAA,KACA,KAAA,SAAA,GAYA,SAAA,GAAA,GACA,IAAA,EAAA,KAAA,SACA,EAAA,GAAA,EAAA,GAEA,QAAA,EAAA,KAIA,GADA,EAAA,OAAA,EAEA,EAAA,MAEA,GAAA,KAAA,EAAA,EAAA,IAEA,GAYA,SAAA,GAAA,GACA,IAAA,EAAA,KAAA,SACA,EAAA,GAAA,EAAA,GAEA,OAAA,EAAA,OAAA,EAAA,EAAA,GAAA,GAYA,SAAA,GAAA,GACA,OAAA,GAAA,KAAA,SAAA,IAAA,EAaA,SAAA,GAAA,EAAA,GACA,IAAA,EAAA,KAAA,SACA,EAAA,GAAA,EAAA,GAOA,OALA,EAAA,EACA,EAAA,KAAA,CAAA,EAAA,IAEA,EAAA,GAAA,GAAA,EAEA,KAiBA,SAAA,GAAA,GACA,IAAA,GAAA,EACA,EAAA,EAAA,EAAA,OAAA,EAGA,IADA,KAAA,UACA,EAAA,GAAA,CACA,IAAA,EAAA,EAAA,GACA,KAAA,IAAA,EAAA,GAAA,EAAA,KAWA,SAAA,KACA,KAAA,SAAA,CACA,KAAA,IAAA,GACA,IAAA,IAAA,IAAA,IACA,OAAA,IAAA,IAaA,SAAA,GAAA,GACA,OAAA,GAAA,KAAA,GAAA,OAAA,GAYA,SAAA,GAAA,GACA,OAAA,GAAA,KAAA,GAAA,IAAA,GAYA,SAAA,GAAA,GACA,OAAA,GAAA,KAAA,GAAA,IAAA,GAaA,SAAA,GAAA,EAAA,GAEA,OADA,GAAA,KAAA,GAAA,IAAA,EAAA,GACA,KAiBA,SAAA,GAAA,GACA,KAAA,SAAA,IAAA,GAAA,GAUA,SAAA,KACA,KAAA,SAAA,IAAA,GAYA,SAAA,GAAA,GACA,OAAA,KAAA,SAAA,OAAA,GAYA,SAAA,GAAA,GACA,OAAA,KAAA,SAAA,IAAA,GAYA,SAAA,GAAA,GACA,OAAA,KAAA,SAAA,IAAA,GAaA,SAAA,GAAA,EAAA,GACA,IAAA,EAAA,KAAA,SACA,GAAA,aAAA,GAAA,CACA,IAAA,EAAA,EAAA,SACA,IAAA,IAAA,EAAA,OAAA,EAAA,EAEA,OADA,EAAA,KAAA,CAAA,EAAA,IACA,KAEA,EAAA,KAAA,SAAA,IAAA,GAAA,GAGA,OADA,EAAA,IAAA,EAAA,GACA,KAkBA,SAAA,GAAA,EAAA,GAGA,IAAA,EAAA,GAAA,IAAA,GAAA,GACA,EAAA,EAAA,OAAA,QACA,GAEA,EAAA,EAAA,OACA,IAAA,EAEA,IAAA,IAAA,KAAA,GACA,IAAA,GAAA,KAAA,EAAA,IACA,IAAA,UAAA,GAAA,GAAA,EAAA,KACA,EAAA,KAAA,GAGA,OAAA,EAaA,SAAA,GAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,GACA,GAAA,KAAA,EAAA,IAAA,GAAA,EAAA,UACA,IAAA,GAAA,KAAA,KACA,EAAA,GAAA,GAYA,SAAA,GAAA,EAAA,GAEA,IADA,IAAA,EAAA,EAAA,OACA,KACA,GAAA,GAAA,EAAA,GAAA,GAAA,GACA,OAAA,EAGA,OAAA,EAYA,SAAA,GAAA,EAAA,GACA,OAAA,GAAA,GAAA,EAAA,GAAA,GAAA,GAiBA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAIA,GAHA,IACA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,SAEA,IAAA,EACA,OAAA,EAEA,IAAA,GAAA,GACA,OAAA,EAEA,IAAA,EAAA,GAAA,GACA,GAAA,GAEA,GADA,EAAA,GAAA,IACA,EACA,OAAA,GAAA,EAAA,OAEA,CACA,IAAA,EAAA,GAAA,GACA,EAAA,GAAA,GAAA,GAAA,EAEA,GAAA,GAAA,GACA,OAAA,GAAA,EAAA,GAEA,GAAA,GAAA,GAAA,GAAA,GAAA,IAAA,EAAA,CACA,GAAA,EAAA,GACA,OAAA,EAAA,EAAA,GAGA,GADA,EAAA,GAAA,EAAA,GAAA,IACA,EACA,OAAA,GAAA,EAAA,GAAA,EAAA,QAEA,CACA,IAAA,EAAA,GACA,OAAA,EAAA,EAAA,GAEA,EAAA,GAAA,EAAA,EAAA,GAAA,IAIA,IAAA,EAAA,IAAA,IACA,IAAA,EAAA,EAAA,IAAA,GACA,GAAA,EACA,OAAA,EAIA,GAFA,EAAA,IAAA,EAAA,IAEA,EACA,IAAA,EAAA,EAAA,GAAA,GAAA,GAAA,GAUA,OARA,EAAA,GAAA,EAAA,SAAA,EAAA,GACA,IAEA,EAAA,EADA,EAAA,IAIA,GAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,MAEA,EAWA,SAAA,GAAA,GACA,OAAA,GAAA,GAAA,GAAA,GAAA,GAcA,SAAA,GAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,GACA,OAAA,GAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IAUA,SAAA,GAAA,GACA,OAAA,GAAA,KAAA,GAWA,SAAA,GAAA,GACA,SAAA,GAAA,IAAA,GAAA,MAGA,GAAA,IAAA,EAAA,GAAA,GAAA,GACA,KAAA,GAAA,IAUA,SAAA,GAAA,GACA,IAAA,GAAA,GACA,OAAA,GAAA,GAEA,IAAA,EAAA,GACA,IAAA,IAAA,KAAA,OAAA,GACA,GAAA,KAAA,EAAA,IAAA,eAAA,GACA,EAAA,KAAA,GAGA,OAAA,EAWA,SAAA,GAAA,EAAA,GACA,GAAA,EACA,OAAA,EAAA,QAEA,IAAA,EAAA,IAAA,EAAA,YAAA,EAAA,QAEA,OADA,EAAA,KAAA,GACA,EAUA,SAAA,GAAA,GACA,IAAA,EAAA,IAAA,EAAA,YAAA,EAAA,YAEA,OADA,IAAA,GAAA,GAAA,IAAA,IAAA,GAAA,IACA,EAWA,SAAA,GAAA,EAAA,GACA,IAAA,EAAA,EAAA,GAAA,EAAA,QAAA,EAAA,OACA,OAAA,IAAA,EAAA,YAAA,EAAA,EAAA,WAAA,EAAA,YAYA,SAAA,GAAA,EAAA,EAAA,GAEA,OAAA,EADA,EAAA,EAAA,EAAA,IAAA,GAAA,EAAA,GACA,EAAA,IAAA,EAAA,aAUA,SAAA,GAAA,GACA,IAAA,EAAA,IAAA,EAAA,YAAA,EAAA,OAAA,EAAA,KAAA,IAEA,OADA,EAAA,UAAA,EAAA,UACA,EAYA,SAAA,GAAA,EAAA,EAAA,GAEA,OAAA,EADA,EAAA,EAAA,EAAA,IAAA,GAAA,EAAA,GACA,EAAA,IAAA,EAAA,aAUA,SAAA,GAAA,GACA,OAAA,GAAA,OAAA,GAAA,KAAA,IAAA,GAWA,SAAA,GAAA,EAAA,GACA,IAAA,EAAA,EAAA,GAAA,EAAA,QAAA,EAAA,OACA,OAAA,IAAA,EAAA,YAAA,EAAA,EAAA,WAAA,EAAA,QAWA,SAAA,GAAA,EAAA,GACA,IAAA,GAAA,EACA,EAAA,EAAA,OAGA,IADA,IAAA,EAAA,MAAA,MACA,EAAA,GACA,EAAA,GAAA,EAAA,GAEA,OAAA,EAaA,SAAA,GAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,IAKA,IAHA,IAAA,GAAA,EACA,EAAA,EAAA,SAEA,EAAA,GAAA,CACA,IAAA,EAAA,EAAA,GAEA,EAAA,EACA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,EAAA,QACA,EAEA,GAAA,EAAA,OAAA,IAAA,EAAA,EAAA,GAAA,GAEA,OAAA,EAWA,SAAA,GAAA,EAAA,GACA,OAAA,GAAA,EAAA,GAAA,GAAA,GAUA,SAAA,GAAA,GACA,OAAA,GAAA,EAAA,GAAA,IAWA,SAAA,GAAA,EAAA,GACA,IAAA,EAAA,EAAA,SACA,OAAA,GAAA,GACA,EAAA,iBAAA,EAAA,SAAA,QACA,EAAA,IAWA,SAAA,GAAA,EAAA,GACA,IAAA,EAAA,EAAA,EAAA,GACA,OAAA,GAAA,GAAA,OAAA,EA7tBA,GAAA,UAAA,MAAA,GACA,GAAA,UAAA,OAAA,GACA,GAAA,UAAA,IAAA,GACA,GAAA,UAAA,IAAA,GACA,GAAA,UAAA,IAAA,GA4GA,GAAA,UAAA,MAAA,GACA,GAAA,UAAA,OAAA,GACA,GAAA,UAAA,IAAA,GACA,GAAA,UAAA,IAAA,GACA,GAAA,UAAA,IAAA,GA0FA,GAAA,UAAA,MAAA,GACA,GAAA,UAAA,OAAA,GACA,GAAA,UAAA,IAAA,GACA,GAAA,UAAA,IAAA,GACA,GAAA,UAAA,IAAA,GAwFA,GAAA,UAAA,MAAA,GACA,GAAA,UAAA,OAAA,GACA,GAAA,UAAA,IAAA,GACA,GAAA,UAAA,IAAA,GACA,GAAA,UAAA,IAAA,GAybA,IAAA,GAAA,GAAA,EAAA,GAAA,QAAA,GASA,GAAA,GAkCA,SAAA,GAAA,GACA,IAAA,EAAA,EAAA,OACA,EAAA,EAAA,YAAA,GAOA,OAJA,GAAA,iBAAA,EAAA,IAAA,GAAA,KAAA,EAAA,WACA,EAAA,MAAA,EAAA,MACA,EAAA,MAAA,EAAA,OAEA,EAUA,SAAA,GAAA,GACA,MAAA,mBAAA,EAAA,aAAA,GAAA,GAEA,GADA,GAAA,GAAA,IAiBA,SAAA,GAAA,EAAA,EAAA,EAAA,GACA,IAAA,EAAA,EAAA,YACA,OAAA,GACA,KAAA,EACA,OAAA,GAAA,GAEA,KAAA,EACA,KAAA,EACA,OAAA,IAAA,GAAA,GAEA,KAAA,EACA,OAAA,GAAA,EAAA,GAEA,KAAA,EAAA,KAAA,EACA,KAAA,EAAA,KAAA,EAAA,KAAA,EACA,KAAA,EAAA,KAAA,EAAA,KAAA,EAAA,KAAA,EACA,OAAA,GAAA,EAAA,GAEA,KAAA,EACA,OAAA,GAAA,EAAA,EAAA,GAEA,KAAA,EACA,KAAA,EACA,OAAA,IAAA,EAAA,GAEA,KAAA,EACA,OAAA,GAAA,GAEA,KAAA,EACA,OAAA,GAAA,EAAA,EAAA,GAEA,KAAA,EACA,OAAA,GAAA,IAYA,SAAA,GAAA,EAAA,GAEA,SADA,EAAA,MAAA,EAAA,EAAA,KAEA,iBAAA,GAAA,EAAA,KAAA,KACA,GAAA,GAAA,EAAA,GAAA,GAAA,EAAA,EAUA,SAAA,GAAA,GACA,IAAA,SAAA,EACA,MAAA,UAAA,GAAA,UAAA,GAAA,UAAA,GAAA,WAAA,EACA,cAAA,EACA,OAAA,EAUA,SAAA,GAAA,GACA,QAAA,IAAA,MAAA,EAUA,SAAA,GAAA,GACA,IAAA,EAAA,GAAA,EAAA,YAGA,OAAA,KAFA,mBAAA,GAAA,EAAA,WAAA,IAYA,SAAA,GAAA,GACA,GAAA,MAAA,EAAA,CACA,IACA,OAAA,GAAA,KAAA,GACA,MAAA,IACA,IACA,OAAA,EAAA,GACA,MAAA,KAEA,MAAA,GAqBA,SAAA,GAAA,GACA,OAAA,GAAA,GAAA,GAAA,GAmCA,SAAA,GAAA,EAAA,GACA,OAAA,IAAA,GAAA,GAAA,GAAA,GAAA,EAqBA,SAAA,GAAA,GAEA,OAAA,GAAA,IAAA,GAAA,KAAA,EAAA,aACA,GAAA,KAAA,EAAA,WAAA,GAAA,KAAA,IAAA,IAhQA,IAAA,GAAA,IAAA,GAAA,IAAA,YAAA,MAAA,GACA,IAAA,GAAA,IAAA,KAAA,GACA,IAAA,GAAA,GAAA,YAAA,GACA,IAAA,GAAA,IAAA,KAAA,GACA,IAAA,GAAA,IAAA,KAAA,KACA,GAAA,SAAA,GACA,IAAA,EAAA,GAAA,KAAA,GACA,EAAA,GAAA,EAAA,EAAA,iBAAA,EACA,EAAA,EAAA,GAAA,QAAA,EAEA,GAAA,EACA,OAAA,GACA,KAAA,GAAA,OAAA,EACA,KAAA,GAAA,OAAA,EACA,KAAA,GAAA,OAAA,EACA,KAAA,GAAA,OAAA,EACA,KAAA,GAAA,OAAA,EAGA,OAAA,IAuQA,IAAA,GAAA,MAAA,QA2BA,SAAA,GAAA,GACA,OAAA,MAAA,GAAA,GAAA,EAAA,UAAA,GAAA,GA4BA,SAAA,GAAA,GACA,OAAA,GAAA,IAAA,GAAA,GAoBA,IAAA,GAAA,IAAA,GAmBA,SAAA,GAAA,GAGA,IAAA,EAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GACA,OAAA,GAAA,GAAA,GAAA,EA6BA,SAAA,GAAA,GACA,MAAA,iBAAA,GACA,GAAA,GAAA,EAAA,GAAA,GAAA,GAAA,EA4BA,SAAA,GAAA,GACA,IAAA,SAAA,EACA,QAAA,IAAA,UAAA,GAAA,YAAA,GA2BA,SAAA,GAAA,GACA,QAAA,GAAA,iBAAA,EA+BA,SAAA,GAAA,GACA,OAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAqBA,SAAA,KACA,MAAA,GAgBA,SAAA,KACA,OAAA,EAGA,OAAA,QAAA;;ACntDA,aAEA,IAAA,EAAA,QAAA,gDAEA,EAAA,EAAA,QAAA,kCAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAAA,QAAA,kBAEA,EAAA,QAAA,WAGA,EAAA,QAAA,oBAEA,SAAA,EAAA,GACA,EAAA,YAAA,yBACA,EAAA,YAAA,yBAAA,WAAA,KAAA,GAGA,EAAA,YAAA,MAAA,KAAA,QAAA,CACA,GAAA,EAAA,iBACA,KAAA,KACA,WAAA,CAAA,GACA,KAAA,aAKA,SAAA,EAAA,GACA,IAAA,EAAA,GAEA,GAAA,EAAA,YAAA,WAAA,IAAA,GAOA,IAHA,IAAA,EAAA,EACA,EAAA,EAEA,EAAA,YAAA,WAAA,IAAA,IAAA,CACA,IAAA,EAAA,EAAA,YAAA,WAAA,IAAA,GAWA,GATA,EAAA,QAAA,EAAA,KAEA,EAAA,YAAA,WAAA,IAAA,EAAA,SACA,EAAA,QAAA,EAAA,OAAA,YAAA,MAGA,EAAA,EAAA,SACA,GAEA,EAAA,YAAA,qBACA,WAlBA,EAAA,QAAA,EAAA,YAAA,MAuBA,OAAA,EAOA,EAAA,YAAA,MAAA,GAAA,MAAA,SAAA,GACA,EAAA,YAAA,UAIA,OAAA,EAAA,OAAA,YAAA,EAAA,EAAA,SAAA,EAAA,QACA,EAAA,YAAA,WAAA,IAAA,EAAA,MAAA,CACA,OAAA,EAAA,OACA,IAAA,EAAA,QAQA,EAAA,YAAA,MAAA,GAAA,cAAA,SAAA,GACA,EAAA,YAAA,WAIA,EAAA,YAAA,iBAAA,GAAA,QAMA,EAAA,YAAA,MAAA,GAAA,aAAA,WACA,GAAA,EAAA,YAAA,SAAA,CAIA,IAAA,EAAA,CACA,KAAA,EAAA,YAAA,iBACA,WAAA,GACA,KAAA,UAEA,EAAA,YAAA,8BAAA,IAAA,EAAA,YAAA,UAAA,GACA,EAAA,YAAA,yBAAA,EAEA,IAAA,EAAA,YAAA,YACA,EAAA,GAAA,EAAA,iBACA,EAAA,YAAA,eAAA,EAAA,IAIA,EAAA,YAAA,UAAA,GACA,EAAA,YAAA,8BAAA,IAAA,EAAA,YAAA,UAAA,GAAA,WAAA,KAAA,CACA,KAAA,SACA,OAAA,OAQA,EAAA,YAAA,MAAA,GAAA,WAAA,WACA,GAAA,EAAA,YAAA,WAKA,EAAA,YAAA,yBAAA,EAAA,YAAA,8BAAA,IAAA,EAAA,YAAA,YAAA,MAEA,EAAA,YAAA,CACA,IAAA,EAAA,KAEA,IACA,EAAA,KAAA,MAAA,KAAA,UAAA,EAAA,YAAA,8BAAA,IAAA,KACA,MAAA,GACA,OAIA,EAAA,YAAA,MAAA,KAAA,QAAA,GACA,EAAA,YAAA,yBAAA,KACA,EAAA,YAAA,8BAAA,WAQA,EAAA,YAAA,MAAA,GAAA,MAAA,SAAA,GACA,EAAA,YAAA,UAKA,EAAA,CACA,KAAA,SACA,UAHA,EAAA,EAAA,QAIA,SAAA,EAAA,EAAA,UACA,IAAA,EAAA,IACA,MAAA,EAAA,EAAA,WAOA,EAAA,YAAA,MAAA,GAAA,iBAAA,SAAA,GACA,EAAA,YAAA,UAKA,EAAA,CACA,KAAA,SACA,UAHA,EAAA,EAAA,QAIA,IAAA,EAAA;;AClLA,aAEA,OAAA,eAAA,QAAA,aAAA,CACA,OAAA,IAGA,IAAA,EAAA,QAAA,qBAEA,QAAA,OAAA,EAAA,OACA,QAAA,cAAA,EAAA,cAEA,IAAA,EAAA,QAAA,UAEA,QAAA,KAAA,EAAA,KAEA,QAAA,WAEA,IAAA,EAAA,QAAA,WAEA,QAAA,MAAA,EAAA,MAEA,IAAA,EAAA,QAAA,kBAEA,QAAA,YAAA,EAAA,YAEA,IAAA,EAAA,QAAA,cAEA,QAAA,OAAA,EAAA,OACA,QAAA,aAAA,EAAA,aACA,QAAA,WAAA,EAAA,WACA,QAAA,QAAA,EAAA,QACA,QAAA,OAAA,EAAA,OAEA,IAAA,EAAA,QAAA,cAEA,QAAA,SAAA,EAAA,SAEA,IAAA,EAAA,QAAA,WAEA,QAAA,aAAA,EAAA,aACA,QAAA,WAAA,EAAA,WACA,QAAA,UAAA,EAAA,UACA,QAAA,UAAA,EAAA,UACA,IAAA,EAAA,EAAA,YAAA,MACA,QAAA,SAAA;;AC1CO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,EAFP,IAAA,EAAA,QAAA,OAEasC,GAAQ,EAAW,EAAA,YAAA,CAC9BC,QAAS,CACPC,QAAS,EACTC,QAAS,GACTC,YAAa,GACbC,qBAAsB,EACtBC,QAAQ,EACRC,cAAe,GACfC,cAAc,GAEhBnB,cAAe,IACfoB,SAAU,gBACVC,kBAAcC,EACdC,gBAAiB,GACjBC,cAAe,KAdV,QAAA,MAAA;;ACsBN,aAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,KAAA,GAAA,GAAA,OAAA,sBAAA,CAAA,IAAA,EAAA,OAAA,sBAAA,GAAA,IAAA,EAAA,EAAA,OAAA,SAAA,GAAA,OAAA,OAAA,yBAAA,EAAA,GAAA,cAAA,EAAA,KAAA,MAAA,EAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CAAA,IAAA,EAAA,MAAA,UAAA,GAAA,UAAA,GAAA,GAAA,EAAA,EAAA,EAAA,OAAA,IAAA,GAAA,QAAA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,MAAA,OAAA,0BAAA,OAAA,iBAAA,EAAA,OAAA,0BAAA,IAAA,EAAA,OAAA,IAAA,QAAA,SAAA,GAAA,OAAA,eAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,MAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAxBD,SAASC,EAAwBC,GACxB,OAAA,SAAUC,GACTxB,IAAAA,EAAOwB,EAAIC,OAAOC,wBACpBC,EAAUH,EAAIG,QACdC,EAAUJ,EAAII,QAEdJ,EAAIK,iBACNF,EAAUH,EAAIK,eAAeL,EAAIK,eAAe/D,OAAS,GAAG6D,QAC5DC,EAAUJ,EAAIK,eAAeL,EAAIK,eAAe/D,OAAS,GAAG8D,SAG9DL,EAAO,EAAA,CACLO,IAAK,CACH5C,EAAGyC,EAAU3B,EAAK+B,KAClB5C,EAAGyC,EAAU5B,EAAKgC,MAEjBR,KAKF,SAASS,EAAezD,EAAI+C,GACjC/C,EAAG0D,iBAAiB,WAAYZ,EAAuBC,IACvD/C,EAAG0D,iBAAiB,UAAWZ,EAAuBC,IACvD,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,cAAA;;AC0HD,aAlJA,IAAA,EAAA,EAAA,QAAA,YACA,EAAA,QAAA,kBACA,EAAA,QAAA,mBACA,EAAA,QAAA,WACA,EAAA,QAAA,OACA,EAAA,QAAA,kBA6IA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAvIA,SAASY,IACDC,IAAAA,EAAMC,IACN1C,GAAkB,EAAW,EAAA,YAAA,YAC7B2C,GAAgB,EAAW,EAAA,YAAA,UAC3B1C,GAAkB,EAAW,EAAA,YAAA,YAE7B2C,GAAkB,EAAQ3C,EAAAA,SAAAA,EAAgBnB,OAAQ+B,EAAMC,MAAAA,SAE9D2B,EAAII,OAAS,WACX7C,EAAgBlB,OAAOO,MAAQoD,EAAIpD,MACnCW,EAAgBlB,OAAOQ,OAASmD,EAAInD,OACpCU,EAAgB8C,UAAUL,EAAK,EAAG,GAElCE,EAAc7D,OAAOO,MAAQoD,EAAIpD,MACjCsD,EAAc7D,OAAOQ,OAASmD,EAAInD,OAElCW,EAAgBnB,OAAOO,MAAQoD,EAAIpD,MAAQwB,EAAMX,MAAAA,cACjDD,EAAgBnB,OAAOQ,OAASmD,EAAInD,OAASuB,EAAMX,MAAAA,cAEnDD,EAAgBM,UAAY,UAC5BN,EAAgB8C,SACd,EACA,EACA9C,EAAgBnB,OAAOO,MACvBY,EAAgBnB,OAAOQ,QAGnBmC,EAAAA,MAAAA,iBAAkB,EAAazB,EAAAA,cAAAA,EAAiBC,EAAiBY,EAAMX,MAAAA,eACvEwB,EAAAA,MAAAA,cAAgBsB,OAAOC,OAAO,GAAIpC,EAAMY,MAAAA,mBAGlCxB,EAAAA,EAAAA,eAAAA,EAAgBnB,OAAQ,SAAA+C,GAC9BM,IAAAA,EAAMR,EAAuBE,EAAIM,IAAKS,GACtCnD,GAAQ,EAAcO,EAAAA,eAAAA,EAAiBmC,GAEzCN,EAAIqB,UACOlD,EAAAA,EAAAA,cAAAA,EAAiB,SAACT,EAAGC,EAAGxB,GACnCA,OAAAA,IAAMyB,GAAS0D,EAAY,CAAE5D,EAAAA,EAAGC,EAAAA,GAAKC,EAAOQ,EAAiB0C,KAE/DQ,EACEhB,EACA1C,EACAQ,EACA0C,KAMR,SAASD,IACDD,IAAAA,EAAM,IAAIW,MAMTX,OALPA,EAAIY,IAAMxC,EAAMS,MAAAA,SAChBmB,EAAIa,YAAc,YAClBb,EAAIc,QAAU,WACZC,QAAQC,MAAM,yBAEThB,EAGT,SAASiB,EAAwE,GAAhDjC,IAAAA,EAAAA,EAAAA,gBAAiBC,EAAAA,EAAAA,cAAeH,EAAAA,EAAAA,aACzDoC,EAAY5E,SAASC,eAAe,eAEtC,IAAC2E,EACI,OAAA,KAGTA,EAAUC,UAAY,GAEtBZ,OAAOa,KAAKpC,GAAiBqC,QAAQ,SAACrE,EAAOsE,GACrCC,IAAAA,EAAQtC,EAAcjC,KAAWgC,EAAgBhC,GACnD,GACEgC,EAAgBhC,GAASiC,EAAcjC,IAAUgC,EAAgBhC,GAAU,IAC3EwE,EAAUlF,SAASmF,cAAc,OACjCC,EAAoBpF,SAASmF,cAAc,OACjDD,EAAQG,MAAMC,WAAa5E,EAC3BwE,EAAQG,MAAM3E,OAAQ,EAAcA,EAAAA,eAAAA,GACpCwE,EAAQL,UAAkC,MAAtBU,KAAKC,MAAMP,GAAiB,IAASD,GAAAA,OAAAA,EAAQ,GACjEE,EAAQO,QAAQC,QAAUT,EAC1BC,EAAQS,MAAWJ,GAAAA,OAAAA,KAAKC,MAAMP,GAA9B,UAEAG,EAAkBC,MAAM9E,OAAY,GAAA,OAAA,IAAMgF,KAAKC,MAAMP,GAArD,KAEIzC,IAAiB9B,IACnBwE,EAAQU,UAAY,aAGRV,EAAAA,EAAAA,eAAAA,EAAS,WACf1C,EAAAA,MAAAA,aAAe9B,IAGT,IAAVsE,GAAgBlD,EAAMU,MAAAA,eAClBA,EAAAA,MAAAA,aAAe9B,GAGvBwE,EAAQW,YAAYT,GACpBR,EAAUiB,YAAYX,KAI1B,SAAStC,EAAkCiB,EAAAA,GAARrD,IAAAA,EAAAA,EAAAA,EAAGC,EAAAA,EAAAA,EAC9BqF,EAAQjC,EAAgBkC,eAAeD,MAEtC,MAAA,CACLtF,EAAG+E,KAAKS,KAAKxF,EAAIsF,EAAQhE,EAAMX,MAAAA,eAAiB,EAChDV,EAAG8E,KAAKS,KAAKvF,EAAIqF,EAAQhE,EAAMX,MAAAA,eAAiB,GAIpD,SAASiD,EAEP1D,EAAAA,EACAQ,EACA0C,GAHEpD,IAAAA,EAAAA,EAAAA,EAAGC,EAAAA,EAAAA,EAKCwF,GAAa,EAAc/E,EAAAA,eAAAA,EAAiB,CAChDV,EAAIA,EAAIsB,EAAMX,MAAAA,cAAiBW,EAAMX,MAAAA,cAAgB,EACrDV,EAAIA,EAAIqB,EAAMX,MAAAA,cAAiBW,EAAMX,MAAAA,cAAgB,IAGnDW,EAAMU,MAAAA,eAAiB9B,GAASuF,IAAevF,IACjDQ,EAAgBM,UAAYd,EAC5BQ,EAAgB8C,SACdxD,EAAIsB,EAAMX,MAAAA,cACVV,EAAIqB,EAAMX,MAAAA,cACVW,EAAMX,MAAAA,cACNW,EAAMX,MAAAA,eAGRyC,EAAcpC,UAAYd,EAC1BkD,EAAcI,SAASxD,EAAGC,EAAG,EAAG,GAE1BkC,EAAAA,MAAAA,cAAcjC,IAAU,IAvIlC,EAAQ,EAAA,SAAA,WACNiE,EAAqB7C,EAAD,SA0ItB9B,SAASwD,iBAAiB,mBAAoBC","file":"src.7206476c.js","sourceRoot":"..","sourcesContent":["/**\n * This module used to unify mouse wheel behavior between different browsers in 2014\n * Now it's just a wrapper around addEventListener('wheel');\n *\n * Usage:\n *  var addWheelListener = require('wheel').addWheelListener;\n *  var removeWheelListener = require('wheel').removeWheelListener;\n *  addWheelListener(domElement, function (e) {\n *    // mouse wheel event\n *  });\n *  removeWheelListener(domElement, function);\n */\n\nmodule.exports = addWheelListener;\n\n// But also expose \"advanced\" api with unsubscribe:\nmodule.exports.addWheelListener = addWheelListener;\nmodule.exports.removeWheelListener = removeWheelListener;\n\n\nfunction addWheelListener(element, listener, useCapture) {\n  element.addEventListener('wheel', listener, useCapture);\n}\n\nfunction removeWheelListener( element, listener, useCapture ) {\n  element.removeEventListener('wheel', listener, useCapture);\n}","/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\nfunction B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\nfunction C (aA1)      { return 3.0 * aA1; }\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\nfunction binarySubdivide (aX, aA, aB, mX1, mX2) {\n  var currentX, currentT, i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\n\nfunction newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n   var currentSlope = getSlope(aGuessT, mX1, mX2);\n   if (currentSlope === 0.0) {\n     return aGuessT;\n   }\n   var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n   aGuessT -= currentX / currentSlope;\n }\n return aGuessT;\n}\n\nfunction LinearEasing (x) {\n  return x;\n}\n\nmodule.exports = function bezier (mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n\n  if (mX1 === mY1 && mX2 === mY2) {\n    return LinearEasing;\n  }\n\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX (aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing (x) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n};\n","var BezierEasing = require('bezier-easing')\n\n// Predefined set of animations. Similar to CSS easing functions\nvar animations = {\n  ease:  BezierEasing(0.25, 0.1, 0.25, 1),\n  easeIn: BezierEasing(0.42, 0, 1, 1),\n  easeOut: BezierEasing(0, 0, 0.58, 1),\n  easeInOut: BezierEasing(0.42, 0, 0.58, 1),\n  linear: BezierEasing(0, 0, 1, 1)\n}\n\n\nmodule.exports = animate;\nmodule.exports.makeAggregateRaf = makeAggregateRaf;\nmodule.exports.sharedScheduler = makeAggregateRaf();\n\n\nfunction animate(source, target, options) {\n  var start = Object.create(null)\n  var diff = Object.create(null)\n  options = options || {}\n  // We let clients specify their own easing function\n  var easing = (typeof options.easing === 'function') ? options.easing : animations[options.easing]\n\n  // if nothing is specified, default to ease (similar to CSS animations)\n  if (!easing) {\n    if (options.easing) {\n      console.warn('Unknown easing function in amator: ' + options.easing);\n    }\n    easing = animations.ease\n  }\n\n  var step = typeof options.step === 'function' ? options.step : noop\n  var done = typeof options.done === 'function' ? options.done : noop\n\n  var scheduler = getScheduler(options.scheduler)\n\n  var keys = Object.keys(target)\n  keys.forEach(function(key) {\n    start[key] = source[key]\n    diff[key] = target[key] - source[key]\n  })\n\n  var durationInMs = typeof options.duration === 'number' ? options.duration : 400\n  var durationInFrames = Math.max(1, durationInMs * 0.06) // 0.06 because 60 frames pers 1,000 ms\n  var previousAnimationId\n  var frame = 0\n\n  previousAnimationId = scheduler.next(loop)\n\n  return {\n    cancel: cancel\n  }\n\n  function cancel() {\n    scheduler.cancel(previousAnimationId)\n    previousAnimationId = 0\n  }\n\n  function loop() {\n    var t = easing(frame/durationInFrames)\n    frame += 1\n    setValues(t)\n    if (frame <= durationInFrames) {\n      previousAnimationId = scheduler.next(loop)\n      step(source)\n    } else {\n      previousAnimationId = 0\n      setTimeout(function() { done(source) }, 0)\n    }\n  }\n\n  function setValues(t) {\n    keys.forEach(function(key) {\n      source[key] = diff[key] * t + start[key]\n    })\n  }\n}\n\nfunction noop() { }\n\nfunction getScheduler(scheduler) {\n  if (!scheduler) {\n    var canRaf = typeof window !== 'undefined' && window.requestAnimationFrame\n    return canRaf ? rafScheduler() : timeoutScheduler()\n  }\n  if (typeof scheduler.next !== 'function') throw new Error('Scheduler is supposed to have next(cb) function')\n  if (typeof scheduler.cancel !== 'function') throw new Error('Scheduler is supposed to have cancel(handle) function')\n\n  return scheduler\n}\n\nfunction rafScheduler() {\n  return {\n    next: window.requestAnimationFrame.bind(window),\n    cancel: window.cancelAnimationFrame.bind(window)\n  }\n}\n\nfunction timeoutScheduler() {\n  return {\n    next: function(cb) {\n      return setTimeout(cb, 1000/60)\n    },\n    cancel: function (id) {\n      return clearTimeout(id)\n    }\n  }\n}\n\nfunction makeAggregateRaf() {\n  var frontBuffer = new Set();\n  var backBuffer = new Set();\n  var frameToken = 0;\n\n  return {\n    next: next,\n    cancel: next,\n    clearAll: clearAll\n  }\n\n  function clearAll() {\n    frontBuffer.clear();\n    backBuffer.clear();\n    cancelAnimationFrame(frameToken);\n    frameToken = 0;\n  }\n\n  function next(callback) {\n    backBuffer.add(callback);\n    renderNextFrame();\n  }\n\n  function renderNextFrame() {\n    if (!frameToken) frameToken = requestAnimationFrame(renderFrame);\n  }\n\n  function renderFrame() {\n    frameToken = 0;\n\n    var t = backBuffer;\n    backBuffer = frontBuffer;\n    frontBuffer = t;\r\n\n    frontBuffer.forEach(function(callback) {\n      callback();\n    });\n    frontBuffer.clear();\n  }\n\n  function cancel(callback) {\n    backBuffer.delete(callback);\n  }\n}\n","module.exports = function eventify(subject) {\n  validateSubject(subject);\n\n  var eventsStorage = createEventsStorage(subject);\n  subject.on = eventsStorage.on;\n  subject.off = eventsStorage.off;\n  subject.fire = eventsStorage.fire;\n  return subject;\n};\n\nfunction createEventsStorage(subject) {\n  // Store all event listeners to this hash. Key is event name, value is array\n  // of callback records.\n  //\n  // A callback record consists of callback function and its optional context:\n  // { 'eventName' => [{callback: function, ctx: object}] }\n  var registeredEvents = Object.create(null);\n\n  return {\n    on: function (eventName, callback, ctx) {\n      if (typeof callback !== 'function') {\n        throw new Error('callback is expected to be a function');\n      }\n      var handlers = registeredEvents[eventName];\n      if (!handlers) {\n        handlers = registeredEvents[eventName] = [];\n      }\n      handlers.push({callback: callback, ctx: ctx});\n\n      return subject;\n    },\n\n    off: function (eventName, callback) {\n      var wantToRemoveAll = (typeof eventName === 'undefined');\n      if (wantToRemoveAll) {\n        // Killing old events storage should be enough in this case:\n        registeredEvents = Object.create(null);\n        return subject;\n      }\n\n      if (registeredEvents[eventName]) {\n        var deleteAllCallbacksForEvent = (typeof callback !== 'function');\n        if (deleteAllCallbacksForEvent) {\n          delete registeredEvents[eventName];\n        } else {\n          var callbacks = registeredEvents[eventName];\n          for (var i = 0; i < callbacks.length; ++i) {\n            if (callbacks[i].callback === callback) {\n              callbacks.splice(i, 1);\n            }\n          }\n        }\n      }\n\n      return subject;\n    },\n\n    fire: function (eventName) {\n      var callbacks = registeredEvents[eventName];\n      if (!callbacks) {\n        return subject;\n      }\n\n      var fireArguments;\n      if (arguments.length > 1) {\n        fireArguments = Array.prototype.splice.call(arguments, 1);\n      }\n      for(var i = 0; i < callbacks.length; ++i) {\n        var callbackInfo = callbacks[i];\n        callbackInfo.callback.apply(callbackInfo.ctx, fireArguments);\n      }\n\n      return subject;\n    }\n  };\n}\n\nfunction validateSubject(subject) {\n  if (!subject) {\n    throw new Error('Eventify cannot use falsy object as events subject');\n  }\n  var reservedWords = ['on', 'fire', 'off'];\n  for (var i = 0; i < reservedWords.length; ++i) {\n    if (subject.hasOwnProperty(reservedWords[i])) {\n      throw new Error(\"Subject cannot be eventified, since it already has property '\" + reservedWords[i] + \"'\");\n    }\n  }\n}\n","/**\n * Allows smooth kinetic scrolling of the surface\n */\nmodule.exports = kinetic;\n\nfunction kinetic(getPoint, scroll, settings) {\n  if (typeof settings !== 'object') {\n    // setting could come as boolean, we should ignore it, and use an object.\n    settings = {};\n  }\n\n  var minVelocity = typeof settings.minVelocity === 'number' ? settings.minVelocity : 5;\n  var amplitude = typeof settings.amplitude === 'number' ? settings.amplitude : 0.25;\n  var cancelAnimationFrame = typeof settings.cancelAnimationFrame === 'function' ? settings.cancelAnimationFrame : getCancelAnimationFrame();\n  var requestAnimationFrame = typeof settings.requestAnimationFrame === 'function' ? settings.requestAnimationFrame : getRequestAnimationFrame();\n\n  var lastPoint;\n  var timestamp;\n  var timeConstant = 342;\n\n  var ticker;\n  var vx, targetX, ax;\n  var vy, targetY, ay;\n\n  var raf;\n\n  return {\n    start: start,\n    stop: stop,\n    cancel: dispose\n  };\n\n  function dispose() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n  }\n\n  function start() {\n    lastPoint = getPoint();\n\n    ax = ay = vx = vy = 0;\n    timestamp = new Date();\n\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n\n    // we start polling the point position to accumulate velocity\n    // Once we stop(), we will use accumulated velocity to keep scrolling\n    // an object.\n    ticker = requestAnimationFrame(track);\n  }\n\n  function track() {\n    var now = Date.now();\n    var elapsed = now - timestamp;\n    timestamp = now;\n\n    var currentPoint = getPoint();\n\n    var dx = currentPoint.x - lastPoint.x;\n    var dy = currentPoint.y - lastPoint.y;\n\n    lastPoint = currentPoint;\n\n    var dt = 1000 / (1 + elapsed);\n\n    // moving average\n    vx = 0.8 * dx * dt + 0.2 * vx;\n    vy = 0.8 * dy * dt + 0.2 * vy;\n\n    ticker = requestAnimationFrame(track);\n  }\n\n  function stop() {\n    cancelAnimationFrame(ticker);\n    cancelAnimationFrame(raf);\n\n    var currentPoint = getPoint();\n\n    targetX = currentPoint.x;\n    targetY = currentPoint.y;\n    timestamp = Date.now();\n\n    if (vx < -minVelocity || vx > minVelocity) {\n      ax = amplitude * vx;\n      targetX += ax;\n    }\n\n    if (vy < -minVelocity || vy > minVelocity) {\n      ay = amplitude * vy;\n      targetY += ay;\n    }\n\n    raf = requestAnimationFrame(autoScroll);\n  }\n\n  function autoScroll() {\n    var elapsed = Date.now() - timestamp;\n\n    var moving = false;\n    var dx = 0;\n    var dy = 0;\n\n    if (ax) {\n      dx = -ax * Math.exp(-elapsed / timeConstant);\n\n      if (dx > 0.5 || dx < -0.5) moving = true;\n      else dx = ax = 0;\n    }\n\n    if (ay) {\n      dy = -ay * Math.exp(-elapsed / timeConstant);\n\n      if (dy > 0.5 || dy < -0.5) moving = true;\n      else dy = ay = 0;\n    }\n\n    if (moving) {\n      scroll(targetX + dx, targetY + dy);\n      raf = requestAnimationFrame(autoScroll);\n    }\n  }\n}\n\nfunction getCancelAnimationFrame() {\n  if (typeof cancelAnimationFrame === 'function') return cancelAnimationFrame;\n  return clearTimeout;\n}\n\nfunction getRequestAnimationFrame() {\n  if (typeof requestAnimationFrame === 'function') return requestAnimationFrame;\n\n  return function (handler) {\n    return setTimeout(handler, 16);\n  }\n}","/**\n * Disallows selecting text.\n */\nmodule.exports = createTextSelectionInterceptor;\n\nfunction createTextSelectionInterceptor(useFake) {\n  if (useFake) {\n    return {\n      capture: noop,\n      release: noop\n    };\n  }\n\n  var dragObject;\n  var prevSelectStart;\n  var prevDragStart;\n  var wasCaptured = false;\n\n  return {\n    capture: capture,\n    release: release\n  };\n\n  function capture(domObject) {\n    wasCaptured = true;\n    prevSelectStart = window.document.onselectstart;\n    prevDragStart = window.document.ondragstart;\n\n    window.document.onselectstart = disabled;\n\n    dragObject = domObject;\n    dragObject.ondragstart = disabled;\n  }\n\n  function release() {\n    if (!wasCaptured) return;\n    \n    wasCaptured = false;\n    window.document.onselectstart = prevSelectStart;\n    if (dragObject) dragObject.ondragstart = prevDragStart;\n  }\n}\n\nfunction disabled(e) {\n  e.stopPropagation();\n  return false;\n}\n\nfunction noop() {}\n","module.exports = Transform;\n\nfunction Transform() {\n  this.x = 0;\n  this.y = 0;\n  this.scale = 1;\n}\n","module.exports = makeSvgController\nmodule.exports.canAttach = isSVGElement;\n\nfunction makeSvgController(svgElement, options) {\n  if (!isSVGElement(svgElement)) {\n    throw new Error('svg element is required for svg.panzoom to work')\n  }\n\n  var owner = svgElement.ownerSVGElement\n  if (!owner) {\n    throw new Error(\n      'Do not apply panzoom to the root <svg> element. ' +\n      'Use its child instead (e.g. <g></g>). ' +\n      'As of March 2016 only FireFox supported transform on the root element')\n  }\n\n  if (!options.disableKeyboardInteraction) {\n    owner.setAttribute('tabindex', 0);\n  }\n\n  var api = {\n    getBBox: getBBox,\n    getScreenCTM: getScreenCTM,\n    getOwner: getOwner,\n    applyTransform: applyTransform,\n    initTransform: initTransform\n  }\n  \n  return api\n\n  function getOwner() {\n    return owner\n  }\n\n  function getBBox() {\n    var bbox =  svgElement.getBBox()\n    return {\n      left: bbox.x,\n      top: bbox.y,\n      width: bbox.width,\n      height: bbox.height,\n    }\n  }\n\n  function getScreenCTM() {\n    var ctm = owner.getCTM();\n    if (!ctm) {\n      // This is likely firefox: https://bugzilla.mozilla.org/show_bug.cgi?id=873106\n      // The code below is not entirely correct, but still better than nothing\n      return owner.getScreenCTM();\n    }\n    return ctm;\n  }\n\n  function initTransform(transform) {\n    var screenCTM = svgElement.getCTM()\n\n    // The above line returns null on Firefox\n    if (screenCTM === null) {\n      screenCTM = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\").createSVGMatrix()\n    }\n\n    transform.x = screenCTM.e;\n    transform.y = screenCTM.f;\n    transform.scale = screenCTM.a;\n    owner.removeAttributeNS(null, 'viewBox');\n  }\n\n  function applyTransform(transform) {\n    svgElement.setAttribute('transform', 'matrix(' +\n      transform.scale + ' 0 0 ' +\n      transform.scale + ' ' +\n      transform.x + ' ' + transform.y + ')')\n  }\n}\n\nfunction isSVGElement(element) {\n  return element && element.ownerSVGElement && element.getCTM;\n}","module.exports = makeDomController\n\nmodule.exports.canAttach = isDomElement;\n\nfunction makeDomController(domElement, options) {\n  var elementValid = isDomElement(domElement); \n  if (!elementValid) {\n    throw new Error('panzoom requires DOM element to be attached to the DOM tree')\n  }\n\n  var owner = domElement.parentElement;\n  domElement.scrollTop = 0;\n  \n  if (!options.disableKeyboardInteraction) {\n    owner.setAttribute('tabindex', 0);\n  }\n\n  var api = {\n    getBBox: getBBox,\n    getOwner: getOwner,\n    applyTransform: applyTransform,\n  }\n  \n  return api\n\n  function getOwner() {\n    return owner\n  }\n\n  function getBBox() {\n    // TODO: We should probably cache this?\n    return  {\n      left: 0,\n      top: 0,\n      width: domElement.clientWidth,\n      height: domElement.clientHeight\n    }\n  }\n\n  function applyTransform(transform) {\n    // TODO: Should we cache this?\n    domElement.style.transformOrigin = '0 0 0';\n    domElement.style.transform = 'matrix(' +\n      transform.scale + ', 0, 0, ' +\n      transform.scale + ', ' +\n      transform.x + ', ' + transform.y + ')'\n  }\n}\n\nfunction isDomElement(element) {\n  return element && element.parentElement && element.style;\n}\n","'use strict';\n/**\n * Allows to drag and zoom svg elements\n */\nvar wheel = require('wheel');\nvar animate = require('amator');\nvar eventify = require('ngraph.events');\nvar kinetic = require('./lib/kinetic.js');\nvar createTextSelectionInterceptor = require('./lib/createTextSelectionInterceptor.js');\nvar domTextSelectionInterceptor = createTextSelectionInterceptor();\nvar fakeTextSelectorInterceptor = createTextSelectionInterceptor(true);\nvar Transform = require('./lib/transform.js');\nvar makeSvgController = require('./lib/svgController.js');\nvar makeDomController = require('./lib/domController.js');\n\nvar defaultZoomSpeed = 1;\nvar defaultDoubleTapZoomSpeed = 1.75;\nvar doubleTapSpeedInMS = 300;\n\nmodule.exports = createPanZoom;\n\n/**\n * Creates a new instance of panzoom, so that an object can be panned and zoomed\n *\n * @param {DOMElement} domElement where panzoom should be attached.\n * @param {Object} options that configure behavior.\n */\nfunction createPanZoom(domElement, options) {\n  options = options || {};\n\n  var panController = options.controller;\n\n  if (!panController) {\n    if (makeSvgController.canAttach(domElement)) {\n      panController = makeSvgController(domElement, options);\n    } else if (makeDomController.canAttach(domElement)) {\n      panController = makeDomController(domElement, options);\n    }\n  }\n\n  if (!panController) {\n    throw new Error(\n      'Cannot create panzoom for the current type of dom element'\n    );\n  }\n  var owner = panController.getOwner();\n  // just to avoid GC pressure, every time we do intermediate transform\n  // we return this object. For internal use only. Never give it back to the consumer of this library\n  var storedCTMResult = { x: 0, y: 0 };\n\n  var isDirty = false;\n  var transform = new Transform();\n\n  if (panController.initTransform) {\n    panController.initTransform(transform);\n  }\n\n  var filterKey = typeof options.filterKey === 'function' ? options.filterKey : noop;\n  // TODO: likely need to unite pinchSpeed with zoomSpeed\n  var pinchSpeed = typeof options.pinchSpeed === 'number' ? options.pinchSpeed : 1;\n  var bounds = options.bounds;\n  var maxZoom = typeof options.maxZoom === 'number' ? options.maxZoom : Number.POSITIVE_INFINITY;\n  var minZoom = typeof options.minZoom === 'number' ? options.minZoom : 0;\n\n  var boundsPadding = typeof options.boundsPadding === 'number' ? options.boundsPadding : 0.05;\n  var zoomDoubleClickSpeed = typeof options.zoomDoubleClickSpeed === 'number' ? options.zoomDoubleClickSpeed : defaultDoubleTapZoomSpeed;\n  var beforeWheel = options.beforeWheel || noop;\n  var beforeMouseDown = options.beforeMouseDown || noop;\n  var speed = typeof options.zoomSpeed === 'number' ? options.zoomSpeed : defaultZoomSpeed;\n  var transformOrigin = parseTransformOrigin(options.transformOrigin);\n  var textSelection = options.enableTextSelection ? fakeTextSelectorInterceptor : domTextSelectionInterceptor;\n\n  validateBounds(bounds);\n\n  if (options.autocenter) {\n    autocenter();\n  }\n\n  var frameAnimation;\n  var lastTouchEndTime = 0;\n  var lastSingleFingerOffset;\n  var touchInProgress = false;\n\n  // We only need to fire panstart when actual move happens\n  var panstartFired = false;\n\n  // cache mouse coordinates here\n  var mouseX;\n  var mouseY;\n\n  var pinchZoomLength;\n\n  var smoothScroll;\n  if ('smoothScroll' in options && !options.smoothScroll) {\n    // If user explicitly asked us not to use smooth scrolling, we obey\n    smoothScroll = rigidScroll();\n  } else {\n    // otherwise we use forward smoothScroll settings to kinetic API\n    // which makes scroll smoothing.\n    smoothScroll = kinetic(getPoint, scroll, options.smoothScroll);\n  }\n\n  var moveByAnimation;\n  var zoomToAnimation;\n\n  var multiTouch;\n  var paused = false;\n\n  listenForEvents();\n\n  var api = {\n    dispose: dispose,\n    moveBy: internalMoveBy,\n    moveTo: moveTo,\n    smoothMoveTo: smoothMoveTo, \n    centerOn: centerOn,\n    zoomTo: publicZoomTo,\n    zoomAbs: zoomAbs,\n    smoothZoom: smoothZoom,\n    smoothZoomAbs: smoothZoomAbs,\n    showRectangle: showRectangle,\n\n    pause: pause,\n    resume: resume,\n    isPaused: isPaused,\n\n    getTransform: getTransformModel,\n\n    getMinZoom: getMinZoom,\n    setMinZoom: setMinZoom,\n\n    getMaxZoom: getMaxZoom,\n    setMaxZoom: setMaxZoom,\n\n    getTransformOrigin: getTransformOrigin,\n    setTransformOrigin: setTransformOrigin,\n\n    getZoomSpeed: getZoomSpeed,\n    setZoomSpeed: setZoomSpeed\n  };\n\n  eventify(api);\n  \n  var initialX = typeof options.initialX === 'number' ? options.initialX : transform.x;\n  var initialY = typeof options.initialY === 'number' ? options.initialY : transform.y;\n  var initialZoom = typeof options.initialZoom === 'number' ? options.initialZoom : transform.scale;\n\n  if(initialX != transform.x || initialY != transform.y || initialZoom != transform.Scale){\n    zoomAbs(initialX, initialY, initialZoom);\n  }\n\n  return api;\n\n  function pause() {\n    releaseEvents();\n    paused = true;\n  }\n\n  function resume() {\n    if (paused) {\n      listenForEvents();\n      paused = false;\n    }\n  }\n\n  function isPaused() {\n    return paused;\n  }\n\n  function showRectangle(rect) {\n    // TODO: this duplicates autocenter. I think autocenter should go.\n    var clientRect = owner.getBoundingClientRect();\n    var size = transformToScreen(clientRect.width, clientRect.height);\n\n    var rectWidth = rect.right - rect.left;\n    var rectHeight = rect.bottom - rect.top;\n    if (!Number.isFinite(rectWidth) || !Number.isFinite(rectHeight)) {\n      throw new Error('Invalid rectangle');\n    }\n\n    var dw = size.x / rectWidth;\n    var dh = size.y / rectHeight;\n    var scale = Math.min(dw, dh);\n    transform.x = -(rect.left + rectWidth / 2) * scale + size.x / 2;\n    transform.y = -(rect.top + rectHeight / 2) * scale + size.y / 2;\n    transform.scale = scale;\n  }\n\n  function transformToScreen(x, y) {\n    if (panController.getScreenCTM) {\n      var parentCTM = panController.getScreenCTM();\n      var parentScaleX = parentCTM.a;\n      var parentScaleY = parentCTM.d;\n      var parentOffsetX = parentCTM.e;\n      var parentOffsetY = parentCTM.f;\n      storedCTMResult.x = x * parentScaleX - parentOffsetX;\n      storedCTMResult.y = y * parentScaleY - parentOffsetY;\n    } else {\n      storedCTMResult.x = x;\n      storedCTMResult.y = y;\n    }\n\n    return storedCTMResult;\n  }\n\n  function autocenter() {\n    var w; // width of the parent\n    var h; // height of the parent\n    var left = 0;\n    var top = 0;\n    var sceneBoundingBox = getBoundingBox();\n    if (sceneBoundingBox) {\n      // If we have bounding box - use it.\n      left = sceneBoundingBox.left;\n      top = sceneBoundingBox.top;\n      w = sceneBoundingBox.right - sceneBoundingBox.left;\n      h = sceneBoundingBox.bottom - sceneBoundingBox.top;\n    } else {\n      // otherwise just use whatever space we have\n      var ownerRect = owner.getBoundingClientRect();\n      w = ownerRect.width;\n      h = ownerRect.height;\n    }\n    var bbox = panController.getBBox();\n    if (bbox.width === 0 || bbox.height === 0) {\n      // we probably do not have any elements in the SVG\n      // just bail out;\n      return;\n    }\n    var dh = h / bbox.height;\n    var dw = w / bbox.width;\n    var scale = Math.min(dw, dh);\n    transform.x = -(bbox.left + bbox.width / 2) * scale + w / 2 + left;\n    transform.y = -(bbox.top + bbox.height / 2) * scale + h / 2 + top;\n    transform.scale = scale;\n  }\n\n  function getTransformModel() {\n    // TODO: should this be read only?\n    return transform;\n  }\n\n  function getMinZoom() {\n    return minZoom;\n  }\n\n  function setMinZoom(newMinZoom) {\n    minZoom = newMinZoom;\n  }\n\n  function getMaxZoom() {\n    return maxZoom;\n  }\n\n  function setMaxZoom(newMaxZoom) {\n    maxZoom = newMaxZoom;\n  }\n\n  function getTransformOrigin() {\n    return transformOrigin;\n  }\n\n  function setTransformOrigin(newTransformOrigin) {\n    transformOrigin = parseTransformOrigin(newTransformOrigin);\n  }\n\n  function getZoomSpeed() {\n    return speed;\n  }\n\n  function setZoomSpeed(newSpeed) {\n    if (!Number.isFinite(newSpeed)) {\n      throw new Error('Zoom speed should be a number');\n    }\n    speed = newSpeed;\n  }\n\n  function getPoint() {\n    return {\n      x: transform.x,\n      y: transform.y\n    };\n  }\n\n  function moveTo(x, y) {\n    transform.x = x;\n    transform.y = y;\n\n    keepTransformInsideBounds();\n\n    triggerEvent('pan');\n    makeDirty();\n  }\n\n  function moveBy(dx, dy) {\n    moveTo(transform.x + dx, transform.y + dy);\n  }\n\n  function keepTransformInsideBounds() {\n    var boundingBox = getBoundingBox();\n    if (!boundingBox) return;\n\n    var adjusted = false;\n    var clientRect = getClientRect();\n\n    var diff = boundingBox.left - clientRect.right;\n    if (diff > 0) {\n      transform.x += diff;\n      adjusted = true;\n    }\n    // check the other side:\n    diff = boundingBox.right - clientRect.left;\n    if (diff < 0) {\n      transform.x += diff;\n      adjusted = true;\n    }\n\n    // y axis:\n    diff = boundingBox.top - clientRect.bottom;\n    if (diff > 0) {\n      // we adjust transform, so that it matches exactly our bounding box:\n      // transform.y = boundingBox.top - (boundingBox.height + boundingBox.y) * transform.scale =>\n      // transform.y = boundingBox.top - (clientRect.bottom - transform.y) =>\n      // transform.y = diff + transform.y =>\n      transform.y += diff;\n      adjusted = true;\n    }\n\n    diff = boundingBox.bottom - clientRect.top;\n    if (diff < 0) {\n      transform.y += diff;\n      adjusted = true;\n    }\n    return adjusted;\n  }\n\n  /**\n   * Returns bounding box that should be used to restrict scene movement.\n   */\n  function getBoundingBox() {\n    if (!bounds) return; // client does not want to restrict movement\n\n    if (typeof bounds === 'boolean') {\n      // for boolean type we use parent container bounds\n      var ownerRect = owner.getBoundingClientRect();\n      var sceneWidth = ownerRect.width;\n      var sceneHeight = ownerRect.height;\n\n      return {\n        left: sceneWidth * boundsPadding,\n        top: sceneHeight * boundsPadding,\n        right: sceneWidth * (1 - boundsPadding),\n        bottom: sceneHeight * (1 - boundsPadding)\n      };\n    }\n\n    return bounds;\n  }\n\n  function getClientRect() {\n    var bbox = panController.getBBox();\n    var leftTop = client(bbox.left, bbox.top);\n\n    return {\n      left: leftTop.x,\n      top: leftTop.y,\n      right: bbox.width * transform.scale + leftTop.x,\n      bottom: bbox.height * transform.scale + leftTop.y\n    };\n  }\n\n  function client(x, y) {\n    return {\n      x: x * transform.scale + transform.x,\n      y: y * transform.scale + transform.y\n    };\n  }\n\n  function makeDirty() {\n    isDirty = true;\n    frameAnimation = window.requestAnimationFrame(frame);\n  }\n\n  function zoomByRatio(clientX, clientY, ratio) {\n    if (isNaN(clientX) || isNaN(clientY) || isNaN(ratio)) {\n      throw new Error('zoom requires valid numbers');\n    }\n\n    var newScale = transform.scale * ratio;\n\n    if (newScale < minZoom) {\n      if (transform.scale === minZoom) return;\n\n      ratio = minZoom / transform.scale;\n    }\n    if (newScale > maxZoom) {\n      if (transform.scale === maxZoom) return;\n\n      ratio = maxZoom / transform.scale;\n    }\n\n    var size = transformToScreen(clientX, clientY);\n\n    transform.x = size.x - ratio * (size.x - transform.x);\n    transform.y = size.y - ratio * (size.y - transform.y);\n\n    // TODO: https://github.com/anvaka/panzoom/issues/112\n    if (bounds && boundsPadding === 1 && minZoom === 1) {\n      transform.scale *= ratio;\n      keepTransformInsideBounds();\n    } else {\n      var transformAdjusted = keepTransformInsideBounds();\n      if (!transformAdjusted) transform.scale *= ratio;\n    }\n\n    triggerEvent('zoom');\n\n    makeDirty();\n  }\n\n  function zoomAbs(clientX, clientY, zoomLevel) {\n    var ratio = zoomLevel / transform.scale;\n    zoomByRatio(clientX, clientY, ratio);\n  }\n\n  function centerOn(ui) {\n    var parent = ui.ownerSVGElement;\n    if (!parent)\n      throw new Error('ui element is required to be within the scene');\n\n    // TODO: should i use controller's screen CTM?\n    var clientRect = ui.getBoundingClientRect();\n    var cx = clientRect.left + clientRect.width / 2;\n    var cy = clientRect.top + clientRect.height / 2;\n\n    var container = parent.getBoundingClientRect();\n    var dx = container.width / 2 - cx;\n    var dy = container.height / 2 - cy;\n\n    internalMoveBy(dx, dy, true);\n  }\n\n  function smoothMoveTo(x, y){\n    internalMoveBy(x - transform.x, y - transform.y, true)\n  }\n\n  function internalMoveBy(dx, dy, smooth) {\n    if (!smooth) {\n      return moveBy(dx, dy);\n    }\n\n    if (moveByAnimation) moveByAnimation.cancel();\n\n    var from = { x: 0, y: 0 };\n    var to = { x: dx, y: dy };\n    var lastX = 0;\n    var lastY = 0;\n\n    moveByAnimation = animate(from, to, {\n      step: function (v) {\n        moveBy(v.x - lastX, v.y - lastY);\n\n        lastX = v.x;\n        lastY = v.y;\n      }\n    });\n  }\n\n  function scroll(x, y) {\n    cancelZoomAnimation();\n    moveTo(x, y);\n  }\n\n  function dispose() {\n    releaseEvents();\n  }\n\n  function listenForEvents() {\n    owner.addEventListener('mousedown', onMouseDown, { passive: false });\n    owner.addEventListener('dblclick', onDoubleClick, { passive: false });\n    owner.addEventListener('touchstart', onTouch, { passive: false });\n    owner.addEventListener('keydown', onKeyDown, { passive: false });\n\n    // Need to listen on the owner container, so that we are not limited\n    // by the size of the scrollable domElement\n    wheel.addWheelListener(owner, onMouseWheel, { passive: false });\n\n    makeDirty();\n  }\n\n  function releaseEvents() {\n    wheel.removeWheelListener(owner, onMouseWheel);\n    owner.removeEventListener('mousedown', onMouseDown);\n    owner.removeEventListener('keydown', onKeyDown);\n    owner.removeEventListener('dblclick', onDoubleClick);\n    owner.removeEventListener('touchstart', onTouch);\n\n    if (frameAnimation) {\n      window.cancelAnimationFrame(frameAnimation);\n      frameAnimation = 0;\n    }\n\n    smoothScroll.cancel();\n\n    releaseDocumentMouse();\n    releaseTouches();\n    textSelection.release();\n\n    triggerPanEnd();\n  }\n\n  function frame() {\n    if (isDirty) applyTransform();\n  }\n\n  function applyTransform() {\n    isDirty = false;\n\n    // TODO: Should I allow to cancel this?\n    panController.applyTransform(transform);\n\n    triggerEvent('transform');\n    frameAnimation = 0;\n  }\n\n  function onKeyDown(e) {\n    var x = 0,\n      y = 0,\n      z = 0;\n    if (e.keyCode === 38) {\n      y = 1; // up\n    } else if (e.keyCode === 40) {\n      y = -1; // down\n    } else if (e.keyCode === 37) {\n      x = 1; // left\n    } else if (e.keyCode === 39) {\n      x = -1; // right\n    } else if (e.keyCode === 189 || e.keyCode === 109) {\n      // DASH or SUBTRACT\n      z = 1; // `-` -  zoom out\n    } else if (e.keyCode === 187 || e.keyCode === 107) {\n      // EQUAL SIGN or ADD\n      z = -1; // `=` - zoom in (equal sign on US layout is under `+`)\n    }\n\n    if (filterKey(e, x, y, z)) {\n      // They don't want us to handle the key: https://github.com/anvaka/panzoom/issues/45\n      return;\n    }\n\n    if (x || y) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      var clientRect = owner.getBoundingClientRect();\n      // movement speed should be the same in both X and Y direction:\n      var offset = Math.min(clientRect.width, clientRect.height);\n      var moveSpeedRatio = 0.05;\n      var dx = offset * moveSpeedRatio * x;\n      var dy = offset * moveSpeedRatio * y;\n\n      // TODO: currently we do not animate this. It could be better to have animation\n      internalMoveBy(dx, dy);\n    }\n\n    if (z) {\n      var scaleMultiplier = getScaleMultiplier(z * 100);\n      var offset = transformOrigin ? getTransformOriginOffset() : midPoint();\n      publicZoomTo(offset.x, offset.y, scaleMultiplier);\n    }\n  }\n\n  function midPoint() {\n    var ownerRect = owner.getBoundingClientRect();\n    return {\n      x: ownerRect.width / 2,\n      y: ownerRect.height / 2\n    };\n  }\n\n  function onTouch(e) {\n    // let the override the touch behavior\n    beforeTouch(e);\n\n    if (e.touches.length === 1) {\n      return handleSingleFingerTouch(e, e.touches[0]);\n    } else if (e.touches.length === 2) {\n      // handleTouchMove() will care about pinch zoom.\n      pinchZoomLength = getPinchZoomLength(e.touches[0], e.touches[1]);\n      multiTouch = true;\n      startTouchListenerIfNeeded();\n    }\n  }\n\n  function beforeTouch(e) {\n    // TODO: Need to unify this filtering names. E.g. use `beforeTouch`\n    if (options.onTouch && !options.onTouch(e)) {\n      // if they return `false` from onTouch, we don't want to stop\n      // events propagation. Fixes https://github.com/anvaka/panzoom/issues/12\n      return;\n    }\n\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function beforeDoubleClick(e) {\n    // TODO: Need to unify this filtering names. E.g. use `beforeDoubleClick``\n    if (options.onDoubleClick && !options.onDoubleClick(e)) {\n      // if they return `false` from onTouch, we don't want to stop\n      // events propagation. Fixes https://github.com/anvaka/panzoom/issues/46\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  function handleSingleFingerTouch(e) {\n    var touch = e.touches[0];\n    var offset = getOffsetXY(touch);\n    lastSingleFingerOffset = offset;\n    var point = transformToScreen(offset.x, offset.y);\n    mouseX = point.x;\n    mouseY = point.y;\n\n    smoothScroll.cancel();\n    startTouchListenerIfNeeded();\n  }\n\n  function startTouchListenerIfNeeded() {\n    if (touchInProgress) {\n      // no need to do anything, as we already listen to events;\n      return;\n    }\n\n    touchInProgress = true;\n    document.addEventListener('touchmove', handleTouchMove);\n    document.addEventListener('touchend', handleTouchEnd);\n    document.addEventListener('touchcancel', handleTouchEnd);\n  }\n\n  function handleTouchMove(e) {\n    if (e.touches.length === 1) {\n      e.stopPropagation();\n      var touch = e.touches[0];\n\n      var offset = getOffsetXY(touch);\n      var point = transformToScreen(offset.x, offset.y);\n\n      var dx = point.x - mouseX;\n      var dy = point.y - mouseY;\n\n      if (dx !== 0 && dy !== 0) {\n        triggerPanStart();\n      }\n      mouseX = point.x;\n      mouseY = point.y;\n      internalMoveBy(dx, dy);\n    } else if (e.touches.length === 2) {\n      // it's a zoom, let's find direction\n      multiTouch = true;\n      var t1 = e.touches[0];\n      var t2 = e.touches[1];\n      var currentPinchLength = getPinchZoomLength(t1, t2);\n\n      // since the zoom speed is always based on distance from 1, we need to apply\n      // pinch speed only on that distance from 1:\n      var scaleMultiplier =\n        1 + (currentPinchLength / pinchZoomLength - 1) * pinchSpeed;\n\n      var firstTouchPoint = getOffsetXY(t1);\n      var secondTouchPoint = getOffsetXY(t2);\n      mouseX = (firstTouchPoint.x + secondTouchPoint.x) / 2;\n      mouseY = (firstTouchPoint.y + secondTouchPoint.y) / 2;\n      if (transformOrigin) {\n        var offset = getTransformOriginOffset();\n        mouseX = offset.x;\n        mouseY = offset.y;\n      }\n\n      publicZoomTo(mouseX, mouseY, scaleMultiplier);\n\n      pinchZoomLength = currentPinchLength;\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  function handleTouchEnd(e) {\n    if (e.touches.length > 0) {\n      var offset = getOffsetXY(e.touches[0]);\n      var point = transformToScreen(offset.x, offset.y);\n      mouseX = point.x;\n      mouseY = point.y;\n    } else {\n      var now = new Date();\n      if (now - lastTouchEndTime < doubleTapSpeedInMS) {\n        if (transformOrigin) {\n          var offset = getTransformOriginOffset();\n          smoothZoom(offset.x, offset.y, zoomDoubleClickSpeed);\n        } else {\n          // We want untransformed x/y here.\n          smoothZoom(lastSingleFingerOffset.x, lastSingleFingerOffset.y, zoomDoubleClickSpeed);\n        }\n      }\n\n      lastTouchEndTime = now;\n\n      triggerPanEnd();\n      releaseTouches();\n    }\n  }\n\n  function getPinchZoomLength(finger1, finger2) {\n    var dx = finger1.clientX - finger2.clientX;\n    var dy = finger1.clientY - finger2.clientY;\n    return Math.sqrt(dx * dx + dy * dy);\n  }\n\n  function onDoubleClick(e) {\n    beforeDoubleClick(e);\n    var offset = getOffsetXY(e);\n    if (transformOrigin) {\n      // TODO: looks like this is duplicated in the file.\n      // Need to refactor\n      offset = getTransformOriginOffset();\n    }\n    smoothZoom(offset.x, offset.y, zoomDoubleClickSpeed);\n  }\n\n  function onMouseDown(e) {\n    // if client does not want to handle this event - just ignore the call\n    if (beforeMouseDown(e)) return;\n\n    if (touchInProgress) {\n      // modern browsers will fire mousedown for touch events too\n      // we do not want this: touch is handled separately.\n      e.stopPropagation();\n      return false;\n    }\n    // for IE, left click == 1\n    // for Firefox, left click == 0\n    var isLeftButton =\n      (e.button === 1 && window.event !== null) || e.button === 0;\n    if (!isLeftButton) return;\n\n    smoothScroll.cancel();\n\n    var offset = getOffsetXY(e);\n    var point = transformToScreen(offset.x, offset.y);\n    mouseX = point.x;\n    mouseY = point.y;\n\n    // We need to listen on document itself, since mouse can go outside of the\n    // window, and we will loose it\n    document.addEventListener('mousemove', onMouseMove);\n    document.addEventListener('mouseup', onMouseUp);\n    textSelection.capture(e.target || e.srcElement);\n\n    return false;\n  }\n\n  function onMouseMove(e) {\n    // no need to worry about mouse events when touch is happening\n    if (touchInProgress) return;\n\n    triggerPanStart();\n\n    var offset = getOffsetXY(e);\n    var point = transformToScreen(offset.x, offset.y);\n    var dx = point.x - mouseX;\n    var dy = point.y - mouseY;\n\n    mouseX = point.x;\n    mouseY = point.y;\n\n    internalMoveBy(dx, dy);\n  }\n\n  function onMouseUp() {\n    textSelection.release();\n    triggerPanEnd();\n    releaseDocumentMouse();\n  }\n\n  function releaseDocumentMouse() {\n    document.removeEventListener('mousemove', onMouseMove);\n    document.removeEventListener('mouseup', onMouseUp);\n    panstartFired = false;\n  }\n\n  function releaseTouches() {\n    document.removeEventListener('touchmove', handleTouchMove);\n    document.removeEventListener('touchend', handleTouchEnd);\n    document.removeEventListener('touchcancel', handleTouchEnd);\n    panstartFired = false;\n    multiTouch = false;\n    touchInProgress = false;\n  }\n\n  function onMouseWheel(e) {\n    // if client does not want to handle this event - just ignore the call\n    if (beforeWheel(e)) return;\n\n    smoothScroll.cancel();\n\n    var delta = e.deltaY;\n    if (e.deltaMode > 0) delta *= 100;\n\n    var scaleMultiplier = getScaleMultiplier(delta);\n\n    if (scaleMultiplier !== 1) {\n      var offset = transformOrigin\n        ? getTransformOriginOffset()\n        : getOffsetXY(e);\n      publicZoomTo(offset.x, offset.y, scaleMultiplier);\n      e.preventDefault();\n    }\n  }\n\n  function getOffsetXY(e) {\n    var offsetX, offsetY;\n    // I tried using e.offsetX, but that gives wrong results for svg, when user clicks on a path.\n    var ownerRect = owner.getBoundingClientRect();\n    offsetX = e.clientX - ownerRect.left;\n    offsetY = e.clientY - ownerRect.top;\n\n    return { x: offsetX, y: offsetY };\n  }\n\n  function smoothZoom(clientX, clientY, scaleMultiplier) {\n    var fromValue = transform.scale;\n    var from = { scale: fromValue };\n    var to = { scale: scaleMultiplier * fromValue };\n\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n\n    zoomToAnimation = animate(from, to, {\n      step: function (v) {\n        zoomAbs(clientX, clientY, v.scale);\n      },\n      done: triggerZoomEnd\n    });\n  }\n\n  function smoothZoomAbs(clientX, clientY, toScaleValue) {\n    var fromValue = transform.scale;\n    var from = { scale: fromValue };\n    var to = { scale: toScaleValue };\n\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n\n    zoomToAnimation = animate(from, to, {\n      step: function (v) {\n        zoomAbs(clientX, clientY, v.scale);\n      }\n    });\n  }\n\n  function getTransformOriginOffset() {\n    var ownerRect = owner.getBoundingClientRect();\n    return {\n      x: ownerRect.width * transformOrigin.x,\n      y: ownerRect.height * transformOrigin.y\n    };\n  }\n\n  function publicZoomTo(clientX, clientY, scaleMultiplier) {\n    smoothScroll.cancel();\n    cancelZoomAnimation();\n    return zoomByRatio(clientX, clientY, scaleMultiplier);\n  }\n\n  function cancelZoomAnimation() {\n    if (zoomToAnimation) {\n      zoomToAnimation.cancel();\n      zoomToAnimation = null;\n    }\n  }\n\n  function getScaleMultiplier(delta) {\n    var sign = Math.sign(delta);\n    var deltaAdjustedSpeed = Math.min(0.25, Math.abs(speed * delta / 128));\n    return 1 - sign * deltaAdjustedSpeed;\n  }\n\n  function triggerPanStart() {\n    if (!panstartFired) {\n      triggerEvent('panstart');\n      panstartFired = true;\n      smoothScroll.start();\n    }\n  }\n\n  function triggerPanEnd() {\n    if (panstartFired) {\n      // we should never run smooth scrolling if it was multiTouch (pinch zoom animation):\n      if (!multiTouch) smoothScroll.stop();\n      triggerEvent('panend');\n    }\n  }\n\n  function triggerZoomEnd() {\n    triggerEvent('zoomend');\n  }\n\n  function triggerEvent(name) {\n    api.fire(name, api);\n  }\n}\n\nfunction parseTransformOrigin(options) {\n  if (!options) return;\n  if (typeof options === 'object') {\n    if (!isNumber(options.x) || !isNumber(options.y))\n      failTransformOrigin(options);\n    return options;\n  }\n\n  failTransformOrigin();\n}\n\nfunction failTransformOrigin(options) {\n  console.error(options);\n  throw new Error(\n    [\n      'Cannot parse transform origin.',\n      'Some good examples:',\n      '  \"center center\" can be achieved with {x: 0.5, y: 0.5}',\n      '  \"top center\" can be achieved with {x: 0.5, y: 0}',\n      '  \"bottom right\" can be achieved with {x: 1, y: 1}'\n    ].join('\\n')\n  );\n}\n\nfunction noop() { }\n\nfunction validateBounds(bounds) {\n  var boundsType = typeof bounds;\n  if (boundsType === 'undefined' || boundsType === 'boolean') return; // this is okay\n  // otherwise need to be more thorough:\n  var validBounds =\n    isNumber(bounds.left) &&\n    isNumber(bounds.top) &&\n    isNumber(bounds.bottom) &&\n    isNumber(bounds.right);\n\n  if (!validBounds)\n    throw new Error(\n      'Bounds object is not valid. It can be: ' +\n      'undefined, boolean (true|false) or an object {left, top, right, bottom}'\n    );\n}\n\nfunction isNumber(x) {\n  return Number.isFinite(x);\n}\n\n// IE 11 does not support isNaN:\nfunction isNaN(value) {\n  if (Number.isNaN) {\n    return Number.isNaN(value);\n  }\n\n  return value !== value;\n}\n\nfunction rigidScroll() {\n  return {\n    start: noop,\n    stop: noop,\n    cancel: noop\n  };\n}\n\nfunction autoRun() {\n  if (typeof document === 'undefined') return;\n\n  var scripts = document.getElementsByTagName('script');\n  if (!scripts) return;\n  var panzoomScript;\n\n  for (var i = 0; i < scripts.length; ++i) {\n    var x = scripts[i];\n    if (x.src && x.src.match(/\\bpanzoom(\\.min)?\\.js/)) {\n      panzoomScript = x;\n      break;\n    }\n  }\n\n  if (!panzoomScript) return;\n\n  var query = panzoomScript.getAttribute('query');\n  if (!query) return;\n\n  var globalName = panzoomScript.getAttribute('name') || 'pz';\n  var started = Date.now();\n\n  tryAttach();\n\n  function tryAttach() {\n    var el = document.querySelector(query);\n    if (!el) {\n      var now = Date.now();\n      var elapsed = now - started;\n      if (elapsed < 2000) {\n        // Let's wait a bit\n        setTimeout(tryAttach, 100);\n        return;\n      }\n      // If we don't attach within 2 seconds to the target element, consider it a failure\n      console.error('Cannot find the panzoom element', globalName);\n      return;\n    }\n    var options = collectOptions(panzoomScript);\n    console.log(options);\n    window[globalName] = createPanZoom(el, options);\n  }\n\n  function collectOptions(script) {\n    var attrs = script.attributes;\n    var options = {};\n    for (var i = 0; i < attrs.length; ++i) {\n      var attr = attrs[i];\n      var nameValue = getPanzoomAttributeNameValue(attr);\n      if (nameValue) {\n        options[nameValue.name] = nameValue.value;\n      }\n    }\n\n    return options;\n  }\n\n  function getPanzoomAttributeNameValue(attr) {\n    if (!attr.name) return;\n    var isPanZoomAttribute =\n      attr.name[0] === 'p' && attr.name[1] === 'z' && attr.name[2] === '-';\n\n    if (!isPanZoomAttribute) return;\n\n    var name = attr.name.substr(3);\n    var value = JSON.parse(attr.value);\n    return { name: name, value: value };\n  }\n}\n\nautoRun();\n\t","export function componentToHex (c) {\n  const hex = c.toString(16)\n  return hex.length === 1 ? '0' + hex : hex\n}\n\nexport function rgbToHex (r, g, b) {\n  return '#' + componentToHex(r) + componentToHex(g) + componentToHex(b)\n}\n\nexport function getContrast50 (hexcolor) {\n  return parseInt(hexcolor.replace('#', ''), 16) > 0xffffff / 2\n    ? 'black'\n    : 'white'\n}\n","import { rgbToHex } from './color'\n\nexport function getContext (el) {\n  const canvas = document.getElementById(el)\n  return canvas.getContext('2d')\n}\n\nexport function forEachPixel (context, cb) {\n  const result = []\n  const { width, height } = context.canvas\n  for (let x = 0; x < width; x++) {\n    for (let y = 0; y < height; y++) {\n      const color = getColorAtPos(context, { x, y })\n      const unique = !result.includes(color)\n\n      if (unique) {\n        result.push(color)\n      }\n\n      cb(x, y, color, result.indexOf(color), unique)\n    }\n  }\n}\n\nexport function getColorList (viewportContext, drawAreaContext, drawAreaScale) {\n  const result = {}\n\n  forEachPixel(viewportContext, (x, y, color, colorIndex, unique) => {\n    drawAreaContext.beginPath()\n    drawAreaContext.rect(\n      x * drawAreaScale,\n      y * drawAreaScale,\n      drawAreaScale,\n      drawAreaScale\n    )\n    drawAreaContext.stroke()\n    drawAreaContext.fillStyle = '#000'\n    drawAreaContext.font = 0.3 * drawAreaScale + 'px Arial'\n    drawAreaContext.textAlign = 'center'\n    drawAreaContext.fillText(\n      colorIndex + 1,\n      x * drawAreaScale + drawAreaScale / 2,\n      y * drawAreaScale + drawAreaScale / 2 + (0.3 * drawAreaScale) / 2\n    )\n\n    if (unique) {\n      result[color] = 1\n    } else {\n      result[color] += 1\n    }\n  })\n\n  return result\n}\n\nexport function getColorAtPos (context, { x, y }) {\n  const [r, g, b] = context.getImageData(x, y, 1, 1).data\n  return rgbToHex(r, g, b)\n}\n","const tag = \"ascoders-dependency-inject\"\n\ndeclare var global: any\n\nconst globalOrWindow: any = (typeof self === 'object' && self.self === self && self) ||\n  (typeof global === 'object' && global.global === global && global)\n\nclass GlobalState {\n  /**\n   * 所有通过 get 访问过的 class 实例\n   */\n  instances = new WeakMap()\n\n  injectSymbol = Symbol()\n}\n\nlet globalState = new GlobalState()\n\nif (globalOrWindow[tag]) {\n  globalState = globalOrWindow[tag]\n} else {\n  globalOrWindow[tag] = globalState\n}\n\nexport { globalState }\n","import { globalState } from \"./utils\"\n\ninterface normalObject {\n    [x: string]: any\n}\n\nexport declare type ObjectType<T> = {\n    new (): T\n}\n\nexport default class Container {\n    /**\n     * 为类设置对应的实例，依赖注入时，将会从 set 时赋值的实例中寻找\n     */\n    public set<T extends normalObject>(setClass: ObjectType<T>, instance: T) {\n        if (!globalState.instances.has(setClass)) {\n            globalState.instances.set(setClass, instance)\n        }\n    }\n\n    /**\n     * 拿到类的实例，如果提前 set 实例，优先获取此实例\n     */\n    public get<T>(getClass: ObjectType<T>): T {\n        if (!globalState.instances.has(getClass)) {\n            throw new Error(`${getClass.name} 未注册。先使用 set 方法注册，再使用 get 获取`)\n        }\n\n        const instance = globalState.instances.get(getClass)\n\n        // 如果这个类没有 inject 过，就不会存在这个 symbol，直接返回实例\n        if (!instance[globalState.injectSymbol]) {\n            return instance\n        }\n\n        for (let [propertyKey, injectClass] of instance[globalState.injectSymbol]) {\n            // 将其中所有标注注入的字段替换为注入值\n            Object.defineProperty(instance, propertyKey, {\n                enumerable: true,\n                configurable: true,\n                get: () => {\n                    return globalState.instances.get(injectClass)\n                },\n                set: (newValue: any) => {\n                    instance.propertyKey = newValue\n                }\n            })\n        }\n\n        return instance\n    }\n}","import { globalState } from './utils'\n\nexport default <T>(injectClass: T) => (target: any, propertyKey: string | symbol, descriptor?: PropertyDescriptor) => {\n    // fix babel 无法 definePropery 的问题\n    if (descriptor) {\n        descriptor.enumerable = true\n        descriptor.configurable = true\n        descriptor.writable = true\n    }\n\n    // 这个字段用来存储所有可能从注入中获取的数据\n    if (!target[globalState.injectSymbol]) {\n        Object.defineProperty(target, globalState.injectSymbol, {\n            enumerable: true,\n            configurable: true,\n            value: new Map()\n        })\n    }\n\n    target[globalState.injectSymbol].set(propertyKey, injectClass)\n}","import Container from \"./container\"\n\nexport declare interface IObjectType<T> {\n  new(): T\n}\n\nexport declare type ICombineActions<T> = {\n  [P in keyof T]?: IObjectType<T[P]>\n}\n\ntype Partial<T> = {\n  [P in keyof T]?: T[P];\n}\n\n/**\n * 递归收集实例\n */\nfunction collectGet(container: Container, obj: any) {\n  Object.keys(obj).forEach(key => {\n    if (typeof obj[key] === 'object') {\n      collectGet(container, obj[key])\n    } else {\n      let instance: any = new obj[key]()\n      container.set(obj[key], instance)\n    }\n  })\n}\n\n/**\n * 快速实例化，key: string value: Class\n * 可以将内部 inject 正确注入\n */\nexport function injectFactory<T>(obj: ICombineActions<T>): Partial<T> {\n  const container = new Container()\n\n  collectGet(container, obj)\n\n  const injectObj = Object.keys(obj).reduce((result, key) => {\n    if (typeof (obj as any)[key] === 'object') {\n      // 如果元素是对象，递归\n      result[key] = injectFactory((obj as any)[key])\n    } else {\n      result[key] = container.get((obj as any)[key])\n    }\n    return result\n  }, {} as any)\n\n  return injectObj\n}","export { default as Container } from './container'\nexport { default as inject } from './decorators'\nexport { injectFactory } from './helper'\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Event =\n/*#__PURE__*/\nfunction () {\n  function Event() {\n    (0, _classCallCheck2.default)(this, Event);\n    // 所有事件\n    this.events = new Map();\n  }\n\n  (0, _createClass2.default)(Event, [{\n    key: \"on\",\n    value: function on(eventType, callback) {\n      var event = {\n        callback: callback\n      };\n\n      if (this.events.get(eventType)) {\n        // 存在, push 一个事件监听\n        this.events.get(eventType).push(event);\n      } else {\n        // 不存在, 赋值\n        this.events.set(eventType, [event]);\n      }\n    }\n    /**\n     * 取消订阅\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(eventType, callback) {\n      if (!this.events.get(eventType)) {\n        return false;\n      }\n\n      var events = this.events.get(eventType).filter(function (event) {\n        return event.callback !== callback;\n      });\n      this.events.set(eventType, events);\n      return true;\n    }\n    /**\n     * 广播事件\n     */\n\n  }, {\n    key: \"emit\",\n    value: function emit(eventType, context) {\n      if (!eventType || !this.events.get(eventType)) {\n        return false;\n      }\n\n      this.events.get(eventType).forEach(function (event) {\n        event.callback(context);\n      });\n      return true;\n    }\n  }]);\n  return Event;\n}();\n\nexports.Event = Event;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar event_1 = require(\"./event\");\n\nvar tag = \"ascoders-dob\";\nvar globalOrWindow = (typeof self === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(self)) === \"object\" && self.self === self && self || (typeof global === \"undefined\" ? \"undefined\" : (0, _typeof2.default)(global)) === \"object\" && global.global === global && global;\n\nvar GlobalState = function GlobalState() {\n  (0, _classCallCheck2.default)(this, GlobalState);\n\n  /**\n   * All proxies\n   * key: proxies and it's origin object.\n   */\n  this.proxies = new WeakMap();\n  /**\n   * key: proxy\n   * value: origin object\n   */\n\n  this.originObjects = new WeakMap();\n  /**\n   * Store all the original objects and keys to be proxied.\n   */\n\n  this.objectReactionBindings = new WeakMap();\n  this.currentReaction = null;\n  /**\n   * Batch execution depth, such as each call runInAction in-depth +1, call -1, depth of 0 means that the implementation of the end.\n   * When batchDeep == = 0, the operation queue is completed.\n   */\n\n  this.batchDeep = 0;\n  this.pendingReactions = new Set();\n  /**\n   * Ignore the observable symbol\n   */\n\n  this.ignoreDynamicSymbol = Symbol();\n  /**\n   * Track Nested track, temporary cache down the track queue, waiting for the implementation of a track after the implementation.\n   * Eg: observe(()=>{\n   *  // ..\n   *  observe(()=>{..})\n   *  // ..\n   * })\n   * Special for nest react component.\n   */\n\n  this.pendingTracks = new Set();\n  this.useDebug = false;\n  /**\n   * The currently executing debugOutputAction object.\n   */\n\n  this.currentDebugOutputAction = null;\n  /**\n   * The root of each batchDeep debugOutputBundleAction.\n   */\n\n  this.debugOutputActionMapBatchDeep = new Map();\n  /**\n   * Object's parent information, for debug.\n   */\n\n  this.parentInfo = new WeakMap();\n  /**\n   * Special for action name.\n   */\n\n  this.currentDebugName = null;\n  this.currentDebugId = null;\n  this.strictMode = false;\n  this.event = new event_1.Event();\n  this.uniqueIdCounter = 0;\n  /**\n   * Debug get callstack max run count\n   */\n\n  this.getCallstackMaxCount = 50;\n};\n\nvar globalState = new GlobalState();\nexports.globalState = globalState;\n\nif (globalOrWindow[tag]) {\n  exports.globalState = globalState = globalOrWindow[tag];\n} else {\n  globalOrWindow[tag] = globalState;\n}","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar global_state_1 = require(\"../global-state\");\n\nvar native = Map.prototype;\nvar masterKey = Symbol(\"Map master key\");\nvar getters = [\"has\", \"get\"];\nvar iterators = [\"forEach\", \"keys\", \"values\", \"entries\", Symbol.iterator];\nvar all = [\"set\", \"delete\", \"clear\"].concat(getters, iterators);\n\nfunction shim(target, bindCurrentReaction, queueRunReactions, proxyValue) {\n  target.$raw = {};\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    var _loop = function _loop() {\n      var method = _step.value;\n\n      // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n      target.$raw[method] = function () {\n        native[method].apply(target, arguments);\n      };\n    };\n\n    for (var _iterator = all[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      _loop();\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _loop2 = function _loop2() {\n    var getter = getters[_i];\n\n    // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n    target[getter] = function (key) {\n      var value = native[getter].apply(this, arguments);\n      global_state_1.globalState.event.emit(\"get\", {\n        target: target,\n        key: key,\n        value: value\n      });\n      value = proxyValue(this, key, value);\n      bindCurrentReaction(this, key);\n      return value;\n    };\n  };\n\n  for (var _i = 0; _i < getters.length; _i++) {\n    _loop2();\n  }\n\n  var _loop3 = function _loop3() {\n    var iterator = iterators[_i2];\n\n    // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n    target[iterator] = function () {\n      bindCurrentReaction(this, masterKey);\n      return native[iterator].apply(this, arguments);\n    };\n  };\n\n  for (var _i2 = 0; _i2 < iterators.length; _i2++) {\n    _loop3();\n  } // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n\n\n  target.set = function (key, value) {\n    var oldValue = this.get(key);\n    var result = native.set.apply(this, arguments);\n    global_state_1.globalState.event.emit(\"set\", {\n      target: target,\n      key: key,\n      oldValue: oldValue,\n      value: value\n    });\n\n    if (oldValue !== value) {\n      queueRunReactions(this, key);\n      queueRunReactions(this, masterKey);\n    }\n\n    return result;\n  }; // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n\n\n  target.delete = function (key) {\n    var has = this.has(key);\n    var result = native.delete.apply(this, arguments);\n    global_state_1.globalState.event.emit(\"deleteProperty\", {\n      target: target,\n      key: key\n    });\n\n    if (has) {\n      queueRunReactions(this, key);\n      queueRunReactions(this, masterKey);\n    }\n\n    return result;\n  }; // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n\n\n  target.clear = function () {\n    var size = this.size;\n    var result = native.clear.apply(this, arguments);\n\n    if (size) {\n      queueRunReactions(this, masterKey);\n    }\n\n    return result;\n  };\n\n  Object.defineProperty(target, \"size\", {\n    get: function get() {\n      var proto = Object.getPrototypeOf(this);\n      var size = Reflect.get(proto, \"size\", this);\n      bindCurrentReaction(this, masterKey);\n      return size;\n    }\n  });\n  return target;\n}\n\nexports.default = shim;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar global_state_1 = require(\"../global-state\");\n\nvar native = Set.prototype;\nvar masterValue = Symbol(\"Set master value\");\nvar getters = [\"has\"];\nvar iterators = [\"forEach\", \"keys\", \"values\", \"entries\", Symbol.iterator];\nvar all = [\"add\", \"delete\", \"clear\"].concat(getters, iterators);\n\nfunction shim(target, bindCurrentReaction, queueRunReactions, proxyValue) {\n  target.$raw = {};\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    var _loop = function _loop() {\n      var method = _step.value;\n\n      // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n      target.$raw[method] = function () {\n        native[method].apply(target, arguments);\n      };\n    };\n\n    for (var _iterator = all[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      _loop();\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _loop2 = function _loop2() {\n    var getter = getters[_i];\n\n    // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n    target[getter] = function (value) {\n      var result = native[getter].apply(this, arguments);\n      global_state_1.globalState.event.emit(\"get\", {\n        target: target,\n        key: null,\n        value: result\n      });\n      result = proxyValue(this, value, result);\n      bindCurrentReaction(this, value);\n      return result;\n    };\n  };\n\n  for (var _i = 0; _i < getters.length; _i++) {\n    _loop2();\n  }\n\n  var _loop3 = function _loop3() {\n    var iterator = iterators[_i2];\n\n    // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n    target[iterator] = function () {\n      bindCurrentReaction(this, masterValue);\n      return native[iterator].apply(this, arguments);\n    };\n  };\n\n  for (var _i2 = 0; _i2 < iterators.length; _i2++) {\n    _loop3();\n  } // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n\n\n  target.add = function (value) {\n    var has = this.has(value);\n    var result = native.add.apply(this, arguments);\n    global_state_1.globalState.event.emit(\"set\", {\n      target: target,\n      key: null,\n      value: value,\n      oldValue: null\n    });\n\n    if (!has) {\n      queueRunReactions(this, value);\n      queueRunReactions(this, masterValue);\n    }\n\n    return result;\n  }; // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n\n\n  target.delete = function (value) {\n    var has = this.has(value);\n    var result = native.delete.apply(this, arguments);\n    global_state_1.globalState.event.emit(\"deleteProperty\", {\n      target: target,\n      key: null\n    });\n\n    if (has) {\n      queueRunReactions(this, value);\n      queueRunReactions(this, masterValue);\n    }\n\n    return result;\n  }; // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n\n\n  target.clear = function () {\n    var size = this.size;\n    var result = native.clear.apply(this, arguments);\n\n    if (size) {\n      queueRunReactions(this, masterValue);\n    }\n\n    return result;\n  };\n\n  Object.defineProperty(target, \"size\", {\n    get: function get() {\n      var proto = Object.getPrototypeOf(this);\n      var size = Reflect.get(proto, \"size\", this);\n      bindCurrentReaction(this, masterValue);\n      return size;\n    }\n  });\n  return target;\n}\n\nexports.default = shim;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar global_state_1 = require(\"../global-state\");\n\nvar native = WeakMap.prototype;\nvar getters = [\"has\", \"get\"];\nvar all = [\"set\", \"delete\"].concat(getters);\n\nfunction shim(target, bindCurrentReaction, queueRunReactions, proxyValue) {\n  target.$raw = {};\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    var _loop = function _loop() {\n      var method = _step.value;\n\n      // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n      target.$raw[method] = function () {\n        native[method].apply(target, arguments);\n      };\n    };\n\n    for (var _iterator = all[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      _loop();\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _loop2 = function _loop2() {\n    var getter = getters[_i];\n\n    // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n    target[getter] = function (key) {\n      var value = native[getter].apply(this, arguments);\n      global_state_1.globalState.event.emit(\"get\", {\n        target: target,\n        key: null,\n        value: value\n      });\n      value = proxyValue(this, key, value);\n      bindCurrentReaction(this, key);\n      return value;\n    };\n  };\n\n  for (var _i = 0; _i < getters.length; _i++) {\n    _loop2();\n  } // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n\n\n  target.set = function (key, value) {\n    var oldValue = this.get(key);\n    var result = native.set.apply(this, arguments);\n    global_state_1.globalState.event.emit(\"set\", {\n      target: target,\n      key: key,\n      oldValue: oldValue,\n      value: value\n    });\n\n    if (oldValue !== value) {\n      queueRunReactions(this, key);\n    }\n\n    return result;\n  }; // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n\n\n  target.delete = function (key) {\n    var has = this.has(key);\n    var result = native.delete.apply(this, arguments);\n    global_state_1.globalState.event.emit(\"deleteProperty\", {\n      target: target,\n      key: key\n    });\n\n    if (has) {\n      queueRunReactions(this, key);\n    }\n\n    return result;\n  };\n\n  return target;\n}\n\nexports.default = shim;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar global_state_1 = require(\"../global-state\");\n\nvar native = WeakSet.prototype;\nvar getters = [\"has\"];\nvar all = [\"add\", \"delete\"].concat(getters);\n\nfunction shim(target, bindCurrentReaction, queueRunReactions, proxyValue) {\n  target.$raw = {};\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    var _loop = function _loop() {\n      var method = _step.value;\n\n      // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n      target.$raw[method] = function () {\n        native[method].apply(target, arguments);\n      };\n    };\n\n    for (var _iterator = all[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      _loop();\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return != null) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  var _loop2 = function _loop2() {\n    var getter = getters[_i];\n\n    // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n    target[getter] = function (value) {\n      var result = native[getter].apply(this, arguments);\n      global_state_1.globalState.event.emit(\"get\", {\n        target: target,\n        key: null,\n        value: result\n      });\n      result = proxyValue(this, value, result);\n      bindCurrentReaction(this, value);\n      return result;\n    };\n  };\n\n  for (var _i = 0; _i < getters.length; _i++) {\n    _loop2();\n  } // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n\n\n  target.add = function (value) {\n    var has = this.has(value);\n    var result = native.add.apply(this, arguments);\n    global_state_1.globalState.event.emit(\"set\", {\n      target: target,\n      key: null,\n      value: value,\n      oldValue: null\n    });\n\n    if (!has) {\n      queueRunReactions(this, value);\n    }\n\n    return result;\n  }; // tslint:disable-next-line:space-before-function-paren only-arrow-functions\n\n\n  target.delete = function (value) {\n    var has = this.has(value);\n    var result = native.delete.apply(this, arguments);\n    global_state_1.globalState.event.emit(\"deleteProperty\", {\n      target: target,\n      key: null\n    });\n\n    if (has) {\n      queueRunReactions(this, value);\n    }\n\n    return result;\n  };\n\n  return target;\n}\n\nexports.default = shim;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar map_1 = require(\"./map\");\n\nvar set_1 = require(\"./set\");\n\nvar weak_map_1 = require(\"./weak-map\");\n\nvar weak_set_1 = require(\"./weak-set\");\n\nexports.default = new Map([[Map, map_1.default], [Set, set_1.default], [WeakMap, weak_map_1.default], [WeakSet, weak_set_1.default], [Date, true], [RegExp, true]]);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar global_state_1 = require(\"./global-state\");\n\nfunction isPrimitive(value) {\n  if (value === null || value === undefined) {\n    return true;\n  }\n\n  if (typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\" || value instanceof Date) {\n    return true;\n  }\n\n  return false;\n}\n\nexports.isPrimitive = isPrimitive;\n/**\n * Empty func.\n */\n// tslint:disable-next-line:no-empty\n\nexports.noop = function () {};\n/**\n * Wether dob is in batch.\n */\n\n\nfunction inAction() {\n  return global_state_1.globalState.batchDeep !== 0;\n}\n\nexports.inAction = inAction;\n/**\n * Is it currently in reaction?\n */\n\nfunction inTrack() {\n  return !!global_state_1.globalState.currentReaction;\n}\n\nexports.inTrack = inTrack;\n/**\n * Get binder through object and key.\n */\n\nfunction getBinder(object, key) {\n  var keysForObject = global_state_1.globalState.objectReactionBindings.get(object);\n\n  if (!keysForObject) {\n    keysForObject = new Map();\n    global_state_1.globalState.objectReactionBindings.set(object, keysForObject);\n  }\n\n  var reactionsForKey = keysForObject.get(key);\n\n  if (!reactionsForKey) {\n    reactionsForKey = new Set();\n    keysForObject.set(key, reactionsForKey);\n  }\n\n  return {\n    binder: keysForObject,\n    keyBinder: reactionsForKey\n  };\n}\n\nexports.getBinder = getBinder;\n\nfunction startDebug() {\n  global_state_1.globalState.useDebug = true;\n}\n\nexports.startDebug = startDebug;\n\nfunction stopDebug() {\n  global_state_1.globalState.useDebug = false;\n}\n\nexports.stopDebug = stopDebug;\n\nfunction useStrict() {\n  global_state_1.globalState.strictMode = true;\n}\n\nexports.useStrict = useStrict;\n\nfunction cancelStrict() {\n  global_state_1.globalState.strictMode = false;\n}\n\nexports.cancelStrict = cancelStrict;\n/**\n * create unique id\n */\n\nfunction createUniqueId() {\n  return global_state_1.globalState.uniqueIdCounter++;\n}\n\nexports.createUniqueId = createUniqueId;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar global_state_1 = require(\"./global-state\");\n\nvar utils_1 = require(\"./utils\");\n\nvar Reaction =\n/*#__PURE__*/\nfunction () {\n  function Reaction(name, callback, delay) {\n    (0, _classCallCheck2.default)(this, Reaction);\n    // Run reaction's delay.\n    this.delay = null; // Binders for this reaction.\n    // Binder include callback, and it's detail info, like delay.\n\n    this.keyBinders = new Set();\n    this.name = name;\n    this.callback = callback;\n    this.delay = delay || null;\n  }\n  /**\n   * The variables accessed in track are bound to the current reaction, which triggers binder's callback when the variables are modified.\n   * @TODO: Current only support synchronization, do not support asynchronous!\n   */\n\n\n  (0, _createClass2.default)(Reaction, [{\n    key: \"track\",\n    value: function track(callback) {\n      if (!callback) {\n        return;\n      } // If it is already in track, add this directly to the pendingTrack queue, and return.\n      // When the lastest runObserver is executed, current pendingTrack will executed.\n\n\n      if (utils_1.inTrack()) {\n        global_state_1.globalState.pendingTracks.add(this.track.bind(this, callback));\n        return;\n      }\n      /**\n       * Run callback.\n       */\n\n\n      global_state_1.globalState.currentReaction = this; // Clear bindings first.\n\n      this.clearBinding();\n\n      try {\n        callback({\n          debugId: global_state_1.globalState.currentDebugId\n        });\n      } finally {\n        global_state_1.globalState.currentReaction = null;\n      }\n      /**\n       * Execute the rest of the track.\n       */\n\n\n      var currentRunCount = 0;\n      var MAX_RUN_COUNT = 1000; // Copy pendingTracksqueue to prevent dead loop.\n      // When the copy is finished, empty the origin queue, so that the execution is added to the clean new queue.\n\n      var pendingTacksCopy = Array.from(global_state_1.globalState.pendingTracks);\n      global_state_1.globalState.pendingTracks.clear();\n      pendingTacksCopy.forEach(function (eachTack) {\n        currentRunCount++;\n\n        if (currentRunCount >= MAX_RUN_COUNT) {\n          // tslint:disable-next-line:no-console\n          console.warn(\"The number of executions reaches the upper limit, there may be a dead cycle.\");\n          global_state_1.globalState.pendingTracks.clear();\n          return;\n        }\n\n        eachTack();\n      });\n    }\n    /**\n     * Destroy\n     */\n\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      this.clearBinding();\n      this.callback = null;\n    }\n    /**\n     * Run reaction's callback.\n     */\n\n  }, {\n    key: \"run\",\n    value: function run() {\n      if (this.callback) {\n        this.callback();\n      }\n    }\n    /**\n     * Add binder.\n     */\n\n  }, {\n    key: \"addBinder\",\n    value: function addBinder(keyBinder) {\n      this.keyBinders.add(keyBinder);\n    }\n    /**\n     * Clear bindings.\n     */\n\n  }, {\n    key: \"clearBinding\",\n    value: function clearBinding() {\n      var _this = this;\n\n      // Clear all binder which reference this.\n      this.keyBinders.forEach(function (keyBinder) {\n        keyBinder.delete(_this);\n      }); // Clear self keyBinders.\n\n      this.keyBinders.clear();\n    }\n  }]);\n  return Reaction;\n}();\n\nexports.Reaction = Reaction;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _construct2 = _interopRequireDefault(require(\"@babel/runtime/helpers/construct\"));\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar built_ins_1 = require(\"./built-ins\");\n\nvar global_state_1 = require(\"./global-state\");\n\nvar reaction_1 = require(\"./reaction\");\n\nvar utils_1 = require(\"./utils\");\n\nvar MAX_RUN_COUNT = 1000;\n/**\n * Create observable wrapper.\n */\n\nfunction createObservableObject() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (utils_1.isPrimitive(obj)) {\n    throw TypeError(\"dob not support \".concat(obj, \", because it is a basic type.\"));\n  }\n\n  if (global_state_1.globalState.proxies.has(obj)) {\n    return global_state_1.globalState.proxies.get(obj);\n  } // Proxy inert packaging.\n\n\n  return toObservable(obj);\n}\n/**\n * Create observable decorator.\n */\n\n\nfunction createObservableObjectDecorator(target) {\n  function wrap() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return createObservableObject((0, _construct2.default)(target, args));\n  }\n\n  return wrap;\n}\n/**\n * Create observable object from origin object.\n */\n\n\nfunction toObservable(obj) {\n  if (Object.getOwnPropertySymbols(obj).indexOf(global_state_1.globalState.ignoreDynamicSymbol) > -1) {\n    // Ignore observable\n    return obj;\n  }\n\n  var dynamicObject;\n  var builtIn = built_ins_1.default.get(obj.constructor);\n\n  if (typeof builtIn === \"function\" || (0, _typeof2.default)(builtIn) === \"object\") {\n    // support: map weakMap set weakSet.\n    dynamicObject = builtIn(obj, bindCurrentReaction, queueRunReactions, getProxyValue);\n  } else if (!builtIn) {\n    dynamicObject = new Proxy(obj, {\n      get: function get(target, key, receiver) {\n        var value = Reflect.get(target, key, receiver); // Get origin object.\n\n        if (key === \"$raw\") {\n          return target;\n        } // Getter event.\n\n\n        global_state_1.globalState.event.emit(\"get\", {\n          target: target,\n          key: key,\n          value: value\n        });\n        bindCurrentReaction(target, key);\n        value = getProxyValue(target, key, value);\n        return value;\n      },\n      set: function set(target, key, value, receiver) {\n        var oldValue = Reflect.get(target, key, receiver); // If the new value is an object, the original object is preferentially taken.\n\n        if ((0, _typeof2.default)(value) === \"object\" && value) {\n          value = value.$raw || value;\n        }\n\n        global_state_1.globalState.event.emit(\"set\", {\n          target: target,\n          key: key,\n          value: value,\n          oldValue: oldValue\n        });\n        var result = Reflect.set(target, key, value, receiver); // If the length of attribute changed, or the new value is different from the old value, trigger observer queue task.\n        // This step should be done after `Reflect.set` to ensure that the trigger is using a new value.\n\n        if (key === \"length\" || value !== oldValue) {\n          queueRunReactions(target, key);\n        }\n\n        return result;\n      },\n      deleteProperty: function deleteProperty(target, key) {\n        var hasKey = Reflect.has(target, key);\n        global_state_1.globalState.event.emit(\"deleteProperty\", {\n          target: target,\n          key: key\n        });\n        var result = Reflect.deleteProperty(target, key);\n\n        if (hasKey) {\n          queueRunReactions(target, key);\n        }\n\n        return result;\n      }\n    });\n  } else {\n    dynamicObject = obj;\n  }\n\n  global_state_1.globalState.proxies.set(obj, dynamicObject);\n  global_state_1.globalState.proxies.set(dynamicObject, dynamicObject);\n  global_state_1.globalState.originObjects.set(dynamicObject, obj);\n  global_state_1.globalState.objectReactionBindings.set(obj, new Map());\n  return dynamicObject;\n}\n/**\n * Ensure proxy value\n */\n\n\nfunction getProxyValue(target, key, value) {\n  // If the value is a HTMLElement object, it returns directly to the original object, because the original object cannot be encapsulated.\n  if (typeof window !== \"undefined\" && value instanceof HTMLElement) {\n    return value;\n  } // If the value is an object, the proxy object is taken priority.\n\n\n  var resultIsObject = (0, _typeof2.default)(value) === \"object\" && value;\n  var existProxy = resultIsObject && global_state_1.globalState.proxies.get(value);\n\n  if (resultIsObject) {\n    return existProxy || toObservable(value);\n  }\n\n  return value;\n}\n/**\n * Run reactions for object's propertyKey.\n * If has running queue, reactions will be merged in it.\n */\n\n\nfunction queueRunReactions(target, key) {\n  // If in strict mode, and not in the batch, throw error.\n  if (global_state_1.globalState.strictMode && global_state_1.globalState.batchDeep === 0) {\n    throw Error(\"You are not allowed to modify observable value out of Action.\");\n  }\n\n  var _utils_1$getBinder = utils_1.getBinder(target, key),\n      keyBinder = _utils_1$getBinder.keyBinder;\n\n  Array.from(keyBinder).forEach(function (reaction) {\n    if (utils_1.inAction()) {\n      global_state_1.globalState.pendingReactions.add(reaction);\n    } else {\n      // Not in Action, added to the queue if the queue already has a value, or directly execute if the queue has no value.\n      if (global_state_1.globalState.pendingReactions.size === 0) {\n        runReaction(reaction);\n      } else {\n        global_state_1.globalState.pendingReactions.add(reaction);\n        runPendingReactions();\n      }\n    }\n  });\n}\n\nfunction runReaction(reaction) {\n  reaction.run();\n}\n\nexports.runReaction = runReaction;\n/**\n * Execute pending reaction queue.\n * If in action, continue adding to actionQueuedObservers.\n * If not in the action, add a direct implementation.\n */\n\nfunction runPendingReactions() {\n  // The number of queue executions.\n  var currentRunCount = 0;\n  global_state_1.globalState.pendingReactions.forEach(function (observer) {\n    currentRunCount++;\n\n    if (currentRunCount >= MAX_RUN_COUNT) {\n      global_state_1.globalState.pendingReactions.clear();\n      return;\n    }\n\n    runReaction(observer);\n  }); // Clear pending reactions.\n\n  global_state_1.globalState.pendingReactions.clear();\n}\n/**\n * Bind the current reaction\n */\n\n\nfunction bindCurrentReaction(object, key) {\n  // Add listener to this key, which not be tracked in the runInAction\n  // InBatch as long as non zero, that runInAction is over\n  if (!global_state_1.globalState.currentReaction || utils_1.inAction()) {\n    return;\n  }\n\n  var _utils_1$getBinder2 = utils_1.getBinder(object, key),\n      keyBinder = _utils_1$getBinder2.keyBinder; // If this key is not bound with the current reaction, bind it.\n\n\n  if (!keyBinder.has(global_state_1.globalState.currentReaction)) {\n    keyBinder.add(global_state_1.globalState.currentReaction);\n    global_state_1.globalState.currentReaction.addBinder(keyBinder);\n  }\n}\n\nfunction isObservable(obj) {\n  return global_state_1.globalState.proxies.get(obj) === obj;\n}\n\nexports.isObservable = isObservable;\n/**\n * Self run reactions\n */\n\nfunction observe(callback, delay) {\n  var reaction = new reaction_1.Reaction(\"observe\", function () {\n    reaction.track(callback);\n  }, delay); // Run in initialization\n\n  if (utils_1.inAction()) {\n    //  If in the action, directly added to the queue, such as the implementation of the action will automatically execute this queue.\n    global_state_1.globalState.pendingReactions.add(reaction);\n  } else {\n    reaction.run();\n  }\n\n  return {\n    unobserve: function unobserve() {\n      reaction.dispose();\n    }\n  };\n}\n\nexports.observe = observe;\n/**\n * Enter next batch.\n */\n\nfunction startBatch() {\n  if (global_state_1.globalState.batchDeep === 0) {\n    // If starting a new queue from deep 0, clear the original queue.\n    global_state_1.globalState.pendingReactions = new Set();\n  }\n\n  global_state_1.globalState.batchDeep++;\n  global_state_1.globalState.event.emit(\"startBatch\", null);\n}\n\nexports.startBatch = startBatch;\n/**\n * Exit the current batch.\n */\n\nfunction endBatch() {\n  if (--global_state_1.globalState.batchDeep === 0) {\n    runPendingReactions();\n  }\n\n  global_state_1.globalState.event.emit(\"endBatch\", null);\n}\n\nexports.endBatch = endBatch;\n\nfunction Action(arg1, arg2, arg3) {\n  if (arg2 === undefined) {\n    return runInAction.call(null, arg1, arg1.name);\n  }\n\n  return actionDecorator.call(null, arg1, arg1.constructor.name + \".\" + arg2, arg3);\n}\n\nexports.Action = Action;\n\nfunction actionDecorator(target, propertyKey, descriptor) {\n  var func = descriptor.value;\n  return {\n    get: function get() {\n      var _this = this;\n\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        return runInAction(func.bind.apply(func, [_this].concat(args)), propertyKey);\n      };\n    }\n  };\n}\n\nfunction runInAction(fn, debugName) {\n  global_state_1.globalState.event.emit(\"runInAction\", debugName);\n  startBatch();\n\n  try {\n    return fn();\n  } finally {\n    endBatch();\n  }\n} // ==============================================\n// Action [end]\n// ==============================================\n\n\nfunction observable() {\n  var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (typeof target === \"function\") {\n    // 挂在 class 的 decorator\n    return createObservableObjectDecorator(target);\n  } else {\n    return createObservableObject(target);\n  }\n}\n\nexports.observable = observable;\n/**\n * The object will not listen, when use this decorator.\n */\n\nfunction Static(obj) {\n  Object.defineProperty(obj, global_state_1.globalState.ignoreDynamicSymbol, {\n    value: true\n  });\n  return obj;\n}\n\nexports.Static = Static;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar global_state_1 = require(\"./global-state\");\n\nvar observer_1 = require(\"./observer\");\n\nvar utils_1 = require(\"./utils\");\n\nvar Atom =\n/*#__PURE__*/\nfunction () {\n  function Atom() {\n    var onBecomeObservedHandler = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : utils_1.noop;\n    var onBecomeUnobservedHandler = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : utils_1.noop;\n    (0, _classCallCheck2.default)(this, Atom);\n\n    /**\n     * All reactions with this atom.\n     */\n    this.reactions = new Set();\n    this.isBeingTracked = false;\n    this.onBecomeObservedHandler = onBecomeObservedHandler;\n    this.onBecomeUnobservedHandler = onBecomeUnobservedHandler;\n  }\n  /**\n   * Report observe, will trigger onBecomeObservedHandler in the first time.\n   */\n\n\n  (0, _createClass2.default)(Atom, [{\n    key: \"reportObserved\",\n    value: function reportObserved() {\n      observer_1.startBatch();\n\n      if (global_state_1.globalState.currentReaction) {\n        // Binding current reaction\n        this.reactions.add(global_state_1.globalState.currentReaction);\n      }\n\n      if (!this.isBeingTracked) {\n        this.isBeingTracked = true;\n        this.onBecomeObservedHandler();\n      }\n\n      observer_1.endBatch();\n    }\n    /**\n     * report changed, so will trigger all reactions.\n     */\n\n  }, {\n    key: \"reportChanged\",\n    value: function reportChanged() {\n      this.reactions.forEach(function (reaction) {\n        observer_1.runReaction(reaction);\n      });\n    }\n  }, {\n    key: \"unobserve\",\n    value: function unobserve() {\n      this.isBeingTracked = false;\n      this.reactions.clear();\n      this.onBecomeUnobservedHandler();\n    }\n  }]);\n  return Atom;\n}();\n\nexports.Atom = Atom;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar global_state_1 = require(\"./global-state\");\n\nvar utils_1 = require(\"./utils\"); // tslint:disable-next-line:no-var-requires\n\n\nvar cloneDeep = require(\"lodash.clonedeep\");\n\nfunction reportChange(change) {\n  if (global_state_1.globalState.currentDebugOutputAction) {\n    global_state_1.globalState.currentDebugOutputAction.changeList.push(change);\n  } else {\n    // Changes out of Action.\n    global_state_1.globalState.event.emit(\"debug\", {\n      id: utils_1.createUniqueId(),\n      name: null,\n      changeList: [change],\n      type: \"isolated\"\n    });\n  }\n}\n\nfunction getCallStack(target) {\n  var callStack = [];\n\n  if (!global_state_1.globalState.parentInfo.has(target)) {\n    // Hit top.\n    callStack.unshift(target.constructor.name);\n  } else {\n    var currentTarget = target;\n    var runCount = 0;\n\n    while (global_state_1.globalState.parentInfo.has(currentTarget)) {\n      var parentInfo = global_state_1.globalState.parentInfo.get(currentTarget); // add key to call stack\n\n      callStack.unshift(parentInfo.key); // If has no parent's parent, add parent's name to call stack.\n\n      if (!global_state_1.globalState.parentInfo.has(parentInfo.parent)) {\n        callStack.unshift(parentInfo.parent.constructor.name);\n      }\n\n      currentTarget = parentInfo.parent;\n      runCount++;\n\n      if (runCount >= global_state_1.globalState.getCallstackMaxCount) {\n        break;\n      }\n    }\n  }\n\n  return callStack;\n}\n/**\n * Store parentInfo when get triggered.\n */\n\n\nglobal_state_1.globalState.event.on(\"get\", function (info) {\n  if (!global_state_1.globalState.useDebug) {\n    return;\n  }\n\n  if (info.value !== null && (0, _typeof2.default)(info.value) === \"object\") {\n    global_state_1.globalState.parentInfo.set(info.value, {\n      parent: info.target,\n      key: info.key\n    });\n  }\n});\n/**\n * Snapshot current Action's debugName, when runInAction triggered.\n */\n\nglobal_state_1.globalState.event.on(\"runInAction\", function (debugName) {\n  if (!global_state_1.globalState.useDebug) {\n    return;\n  }\n\n  global_state_1.globalState.currentDebugName = debugName || null;\n});\n/**\n * debug 入栈 action\n */\n\nglobal_state_1.globalState.event.on(\"startBatch\", function () {\n  if (!global_state_1.globalState.useDebug) {\n    return;\n  }\n\n  var debugOutputBundleAction = {\n    name: global_state_1.globalState.currentDebugName,\n    changeList: [],\n    type: \"action\"\n  };\n  global_state_1.globalState.debugOutputActionMapBatchDeep.set(global_state_1.globalState.batchDeep, debugOutputBundleAction);\n  global_state_1.globalState.currentDebugOutputAction = debugOutputBundleAction; // 如果深度等于 1，生成唯一 id 给这个 action\n\n  if (global_state_1.globalState.batchDeep === 1) {\n    debugOutputBundleAction.id = utils_1.createUniqueId();\n    global_state_1.globalState.currentDebugId = debugOutputBundleAction.id;\n  } // 如果当前深度大于 1，就作为加到父级的 changeList\n\n\n  if (global_state_1.globalState.batchDeep > 1) {\n    global_state_1.globalState.debugOutputActionMapBatchDeep.get(global_state_1.globalState.batchDeep - 1).changeList.push({\n      type: \"action\",\n      action: debugOutputBundleAction\n    });\n  }\n});\n/**\n * debug 出栈 action\n */\n\nglobal_state_1.globalState.event.on(\"endBatch\", function () {\n  if (!global_state_1.globalState.useDebug) {\n    return;\n  } // 每次出栈，都要更新 currentDebugOutputAction\n\n\n  global_state_1.globalState.currentDebugOutputAction = global_state_1.globalState.debugOutputActionMapBatchDeep.get(global_state_1.globalState.batchDeep) || null;\n\n  if (!utils_1.inAction()) {\n    var cloneDebugInfo = null;\n\n    try {\n      cloneDebugInfo = JSON.parse(JSON.stringify(global_state_1.globalState.debugOutputActionMapBatchDeep.get(1)));\n    } catch (error) {\n      return;\n    } // 如果完全出队列了，把存储的 debug 信息输出给 debug 事件，并清空 debug 信息\n\n\n    global_state_1.globalState.event.emit(\"debug\", cloneDebugInfo);\n    global_state_1.globalState.currentDebugOutputAction = null;\n    global_state_1.globalState.debugOutputActionMapBatchDeep.clear(); // 此时不能清空 globalState.currentDebugId = null，因为后续要传给 callback\n    // action 与 debug 调用顺序：startBatch -> debugInAction -> ...multiple nested startBatch and endBatch -> debugOutAction -> reaction -> observe\n  }\n});\n/**\n * 打印 diff 路径\n */\n\nglobal_state_1.globalState.event.on(\"set\", function (info) {\n  if (!global_state_1.globalState.useDebug) {\n    return;\n  }\n\n  var callStack = getCallStack(info.target);\n  reportChange({\n    type: \"change\",\n    callStack: callStack,\n    oldValue: cloneDeep(info.oldValue),\n    key: info.key,\n    value: cloneDeep(info.value)\n  });\n});\n/**\n * 打印删除路径\n */\n\nglobal_state_1.globalState.event.on(\"deleteProperty\", function (info) {\n  if (!global_state_1.globalState.useDebug) {\n    return;\n  }\n\n  var callStack = getCallStack(info.target);\n  reportChange({\n    type: \"delete\",\n    callStack: callStack,\n    key: info.key\n  });\n});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar dependency_inject_1 = require(\"dependency-inject\");\n\nexports.inject = dependency_inject_1.inject;\nexports.combineStores = dependency_inject_1.injectFactory;\n\nvar atom_1 = require(\"./atom\");\n\nexports.Atom = atom_1.Atom;\n\nrequire(\"./debug\");\n\nvar event_1 = require(\"./event\");\n\nexports.Event = event_1.Event;\n\nvar global_state_1 = require(\"./global-state\");\n\nexports.globalState = global_state_1.globalState;\n\nvar observer_1 = require(\"./observer\");\n\nexports.Action = observer_1.Action;\nexports.isObservable = observer_1.isObservable;\nexports.observable = observer_1.observable;\nexports.observe = observer_1.observe;\nexports.Static = observer_1.Static;\n\nvar reaction_1 = require(\"./reaction\");\n\nexports.Reaction = reaction_1.Reaction;\n\nvar utils_1 = require(\"./utils\");\n\nexports.cancelStrict = utils_1.cancelStrict;\nexports.startDebug = utils_1.startDebug;\nexports.stopDebug = utils_1.stopDebug;\nexports.useStrict = utils_1.useStrict;\nvar dobEvent = global_state_1.globalState.event;\nexports.dobEvent = dobEvent;","import { observable } from 'dob'\n\nexport const state = observable({\n  panzoom: {\n    maxZoom: 1,\n    minZoom: 0.1,\n    initialZoom: 0.5,\n    zoomDoubleClickSpeed: 1,\n    bounds: true,\n    boundsPadding: 0.1,\n    smoothScroll: true\n  },\n  drawAreaScale: 100,\n  imageSrc: 'file50x50.gif',\n  currentColor: undefined,\n  availableColors: {},\n  paintedColors: {}\n})\n","function normalizeEventPosition (handler) {\n  return function (evt) {\n    const rect = evt.target.getBoundingClientRect()\n    let clientX = evt.clientX\n    let clientY = evt.clientY\n\n    if (evt.changedTouches) {\n      clientX = evt.changedTouches[evt.changedTouches.length - 1].clientX\n      clientY = evt.changedTouches[evt.changedTouches.length - 1].clientY\n    }\n\n    handler({\n      pos: {\n        x: clientX - rect.left,\n        y: clientY - rect.top\n      },\n      ...evt\n    })\n  }\n}\n\nexport function addPressEvent (el, handler) {\n  el.addEventListener('touchend', normalizeEventPosition(handler))\n  el.addEventListener('mouseup', normalizeEventPosition(handler))\n}\n","import panzoom from 'panzoom'\nimport { getContrast50 } from './common/color'\nimport { getContext, getColorList, forEachPixel, getColorAtPos } from './common/canvas'\nimport { state } from './state'\nimport { observe } from 'dob'\nimport { addPressEvent } from './common/event'\n\nobserve(() => {\n  drawSelectableColors(state)\n})\n\nfunction init () {\n  const img = loadImage()\n  const viewportContext = getContext('viewport')\n  const resultContext = getContext('result')\n  const drawAreaContext = getContext('drawArea')\n\n  const panzoomInstance = panzoom(drawAreaContext.canvas, state.panzoom)\n\n  img.onload = function () {\n    viewportContext.canvas.width = img.width\n    viewportContext.canvas.height = img.height\n    viewportContext.drawImage(img, 0, 0)\n\n    resultContext.canvas.width = img.width\n    resultContext.canvas.height = img.height\n\n    drawAreaContext.canvas.width = img.width * state.drawAreaScale\n    drawAreaContext.canvas.height = img.height * state.drawAreaScale\n\n    drawAreaContext.fillStyle = '#f9f9f9'\n    drawAreaContext.fillRect(\n      0,\n      0,\n      drawAreaContext.canvas.width,\n      drawAreaContext.canvas.height\n    )\n\n    state.availableColors = getColorList(viewportContext, drawAreaContext, state.drawAreaScale)\n    state.paintedColors = Object.assign({}, state.availableColors)\n  }\n\n  addPressEvent(drawAreaContext.canvas, evt => {\n    const pos = normalizeEventPosition(evt.pos, panzoomInstance)\n    const color = getColorAtPos(viewportContext, pos)\n\n    if (evt.shiftKey) {\n      forEachPixel(viewportContext, (x, y, c) =>\n        c === color && attemptDraw({ x, y }, color, drawAreaContext, resultContext))\n    } else {\n      attemptDraw(\n        pos,\n        color,\n        drawAreaContext,\n        resultContext\n      )\n    }\n  })\n}\n\nfunction loadImage () {\n  const img = new Image()\n  img.src = state.imageSrc\n  img.crossOrigin = 'anonymous'\n  img.onerror = function () {\n    console.error('could not load image')\n  }\n  return img\n}\n\nfunction drawSelectableColors ({ availableColors, paintedColors, currentColor }) {\n  const container = document.getElementById('colorselect')\n\n  if (!container) {\n    return null\n  }\n\n  container.innerHTML = ''\n\n  Object.keys(availableColors).forEach((color, index) => {\n    const usage = paintedColors[color] === availableColors[color]\n      ? 0\n      : ((availableColors[color] - paintedColors[color]) / availableColors[color]) * 100\n    const colorEl = document.createElement('div')\n    const colorPercentageEl = document.createElement('div')\n    colorEl.style.background = color\n    colorEl.style.color = getContrast50(color)\n    colorEl.innerHTML = Math.floor(usage) === 100 ? '✅' : `${index + 1}`\n    colorEl.dataset.painted = usage\n    colorEl.title = `${Math.floor(usage)}% done`\n\n    colorPercentageEl.style.height = `${100 - Math.floor(usage)}%`\n\n    if (currentColor === color) {\n      colorEl.className = 'selected'\n    }\n\n    addPressEvent(colorEl, () => {\n      state.currentColor = color\n    })\n\n    if (index === 0 && !state.currentColor) {\n      state.currentColor = color\n    }\n\n    colorEl.appendChild(colorPercentageEl)\n    container.appendChild(colorEl)\n  })\n}\n\nfunction normalizeEventPosition ({ x, y }, panzoomInstance) {\n  const scale = panzoomInstance.getTransform().scale\n\n  return {\n    x: Math.ceil(x / scale / state.drawAreaScale) - 1,\n    y: Math.ceil(y / scale / state.drawAreaScale) - 1\n  }\n}\n\nfunction attemptDraw (\n  { x, y },\n  color,\n  drawAreaContext,\n  resultContext\n) {\n  const colorAtPos = getColorAtPos(drawAreaContext, {\n    x: (x * state.drawAreaScale) + state.drawAreaScale / 2,\n    y: (y * state.drawAreaScale) + state.drawAreaScale / 2\n  })\n\n  if (state.currentColor === color && colorAtPos !== color) {\n    drawAreaContext.fillStyle = color\n    drawAreaContext.fillRect(\n      x * state.drawAreaScale,\n      y * state.drawAreaScale,\n      state.drawAreaScale,\n      state.drawAreaScale\n    )\n\n    resultContext.fillStyle = color\n    resultContext.fillRect(x, y, 1, 1)\n\n    state.paintedColors[color] -= 1\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', init)\n"]}